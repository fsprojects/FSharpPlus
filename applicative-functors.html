<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Functors and Applicatives
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="">

    <link rel="stylesheet" id="theme_link" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.3.1/materia/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <link type="text/css" rel="stylesheet" href="/FSharpPlus/content/navbar-fixed-left.css" />
    <link type="text/css" rel="stylesheet" href="/FSharpPlus/content/fsdocs-default.css" />
    <link type="text/css" rel="stylesheet" href="/FSharpPlus/content/fsdocs-custom.css" />
    <script type="text/javascript" src="/FSharpPlus/content/fsdocs-tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!-- BEGIN SEARCH BOX: this adds support for the search box -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
    <!-- END SEARCH BOX: this adds support for the search box -->

</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light bg-secondary fixed-left" id="fsdocs-menu">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <a href="/FSharpPlus/"><img id="fsdocs-logo" src="/FSharpPlus/img/logo.png" /></a>
            <!-- BEGIN SEARCH BOX: this adds support for the search box -->
            <div id="header">
                <div class="searchbox" id="fsdocs-searchbox">
                    <label for="search-by">
                        <i class="fas fa-search"></i>
                    </label>
                    <input data-search-input="" id="search-by" type="search" placeholder="Search..." />
                    <span data-search-clear="">
                        <i class="fas fa-times"></i>
                    </span>
                </div>
            </div>

            <!-- END SEARCH BOX: this adds support for the search box -->
            <ul class="navbar-nav">
                <li class="nav-header">Links</li>
                <li class="nav-item" id="fsdocs-license-link"><a class="nav-link" href="{{fsdocs-license-link}}">License (Apache 2.0)</a></li>
                <li class="nav-item" id="fsdocs-release-notes-link"><a class="nav-link" href="{{fsdocs-release-notes-link}}">Release Notes</a></li>
                <li class="nav-item" id="fsdocs-repository-link"><a class="nav-link" href="{{fsdocs-repository-link}}">Source Repository</a></li>

                <!-- Do not use 'fsdocs-list-of-documents' which currently cannot be ordered, and dumps all files in docsrc/ -->
                <li class="nav-header" style="padding-top: 10px">Documentation</li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//tutorial.html">Tutorial</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//extensions.html">Extensions</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//generic-doc.html">Functions &amp; Operators</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//types.html">Data Types</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//abstractions.html">Abstractions</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//computation-expressions.html">Computation Expressions</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//lens.html">Lens</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//parsing.html">Parsing</a></li>
                <li class="nav-item"><a class="nav-link" href="/FSharpPlus//numerics.html">Numerics</a></li>

                {{fsdocs-list-of-namespaces}}
            </ul>
        </div>
    </nav>
    <div class="container">
        <div class="masthead">
            <h3 class="muted"><a href="/FSharpPlus/">FSharpPlus</a></h3>
        </div>
        <hr />
        <div class="container" id="fsdocs-content">
            <h1><a name="Functors-and-Applicatives" class="anchor" href="#Functors-and-Applicatives">Functors and Applicatives</a></h1>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="f#">#r @"nuget: FSharpPlus"
</code></pre></td></tr></table>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">FSharpPlus</span>
</code></pre>
<p>You may run this script step-by-step
The order of execution has to be respected since there are redefinitions of functions and operators</p>
<h1><a name="Functors" class="anchor" href="#Functors">Functors</a></h1>
<p>The intuitive definition is that a Functor is something you can map over.</p>
<p>So they all have a <code>map</code> operation which is their minimal definition.</p>
<p>Most containers are functors</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">r01</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">map</span>   <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">[</span> <span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span> <span class="pn">]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 7)" onmouseover="showTip(event, 'fs6', 7)" class="id">r02</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs7', 8)" onmouseover="showTip(event, 'fs7', 8)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs8', 9)" onmouseover="showTip(event, 'fs8', 9)" class="id">map</span>  <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 10)" onmouseover="showTip(event, 'fs4', 10)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 11)" onmouseover="showTip(event, 'fs5', 11)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 12)" onmouseover="showTip(event, 'fs4', 12)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">|]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="id">r03</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 15)" onmouseover="showTip(event, 'fs11', 15)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 16)" onmouseover="showTip(event, 'fs4', 16)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 17)" onmouseover="showTip(event, 'fs5', 17)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 18)" onmouseover="showTip(event, 'fs4', 18)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 19)" onmouseover="showTip(event, 'fs12', 19)" class="uc">Some</span> <span class="n">5</span><span class="pn">)</span>
</code></pre>
<p>You can think of the Option functor as a particular case of a List that can be either empty or with just 1 element.</p>
<p>We could have used the generic function <code>map</code> from this library which works on any functor.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 20)" onmouseover="showTip(event, 'fs13', 20)" class="id">r01&#39;</span> <span class="o">=</span> <span class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 21)" onmouseover="showTip(event, 'fs5', 21)" class="id">string</span> <span class="pn">(</span><span class="id">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">[</span> <span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span> <span class="pn">]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 22)" onmouseover="showTip(event, 'fs14', 22)" class="id">r02&#39;</span> <span class="o">=</span> <span class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 23)" onmouseover="showTip(event, 'fs5', 23)" class="id">string</span> <span class="pn">(</span><span class="id">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">[|</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">|]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 24)" onmouseover="showTip(event, 'fs15', 24)" class="id">r03&#39;</span> <span class="o">=</span> <span class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 25)" onmouseover="showTip(event, 'fs5', 25)" class="id">string</span> <span class="pn">(</span><span class="id">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 26)" onmouseover="showTip(event, 'fs12', 26)" class="id">Some</span> <span class="n">5</span><span class="pn">)</span>
</code></pre>
<p>Now let's define a simple type and make it a functor by adding a <code>Map</code> static method</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="rt">Id</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">t</span><span class="pn">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 27)" onmouseover="showTip(event, 'fs16', 27)" class="uc">Id</span> <span class="k">of</span> <span class="ta">&#39;</span><span class="id">t</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs17', 28)" onmouseover="showTip(event, 'fs17', 28)" class="fn">Map</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs16', 29)" onmouseover="showTip(event, 'fs16', 29)" class="id">Id</span> <span onmouseout="hideTip(event, 'fs18', 30)" onmouseover="showTip(event, 'fs18', 30)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs19', 31)" onmouseover="showTip(event, 'fs19', 31)" class="fn">f</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs16', 32)" onmouseover="showTip(event, 'fs16', 32)" class="uc">Id</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 33)" onmouseover="showTip(event, 'fs19', 33)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 34)" onmouseover="showTip(event, 'fs18', 34)" class="fn">x</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 35)" onmouseover="showTip(event, 'fs20', 35)" class="id">r04</span> <span class="o">=</span> <span class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 36)" onmouseover="showTip(event, 'fs5', 36)" class="id">string</span> <span class="pn">(</span><span class="id">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs16', 37)" onmouseover="showTip(event, 'fs16', 37)" class="id">Id</span> <span class="n">5</span><span class="pn">)</span>
</code></pre>
<p>Most computations are also functors</p>
<p>Here's an example with Async functions</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 38)" onmouseover="showTip(event, 'fs21', 38)" class="id">async5</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 39)" onmouseover="showTip(event, 'fs22', 39)" class="id">async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 40)" onmouseover="showTip(event, 'fs23', 40)" class="id">Return</span> <span class="n">5</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 41)" onmouseover="showTip(event, 'fs24', 41)" class="id">r05</span>  <span class="o">=</span> <span class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 42)" onmouseover="showTip(event, 'fs5', 42)" class="id">string</span> <span class="pn">(</span><span class="id">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs21', 43)" onmouseover="showTip(event, 'fs21', 43)" class="id">async5</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs25', 44)" onmouseover="showTip(event, 'fs25', 44)" class="id">r05&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs26', 45)" onmouseover="showTip(event, 'fs26', 45)" class="rt">Async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 46)" onmouseover="showTip(event, 'fs27', 46)" class="id">RunSynchronously</span> <span onmouseout="hideTip(event, 'fs24', 47)" onmouseover="showTip(event, 'fs24', 47)" class="id">r05</span>
</code></pre>
<p>But even plain functions are functors</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs28', 48)" onmouseover="showTip(event, 'fs28', 48)" class="fn">r06</span>  <span class="o">=</span> <span class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 49)" onmouseover="showTip(event, 'fs5', 49)" class="id">string</span> <span class="pn">(</span><span class="id">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="n">2</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 50)" onmouseover="showTip(event, 'fs29', 50)" class="id">r06&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 51)" onmouseover="showTip(event, 'fs28', 51)" class="fn">r06</span> <span class="n">3</span>
</code></pre>
<p>For functions <code>map</code> is equivalent to <code>(&lt;&lt;)</code> this means that mapping over a function is the same as composing the functions with the mapper</p>
<p>A List functor can be thought of as a function which takes an integer index to return a value: <code>f: Naturals -&gt; 't</code>
So, you can think of <code>map</code> on a List functor as composing a function:</p>
<p>*</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 52)" onmouseover="showTip(event, 'fs30', 52)" class="fn">listFunc</span> <span class="o">=</span> <span class="k">function</span> <span class="n">0</span> <span class="k">-&gt;</span> <span class="n">1</span> <span class="pn">|</span> <span class="n">1</span> <span class="k">-&gt;</span> <span class="n">2</span> <span class="pn">|</span> <span class="n">2</span> <span class="k">-&gt;</span> <span class="n">3</span> <span class="c">// [1;2;3]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 53)" onmouseover="showTip(event, 'fs31', 53)" class="id">r01&#39;&#39;</span> <span class="o">=</span> <span class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 54)" onmouseover="showTip(event, 'fs5', 54)" class="id">string</span> <span class="pn">(</span><span class="id">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs30', 55)" onmouseover="showTip(event, 'fs30', 55)" class="id">listFunc</span>
</code></pre>
<p>What about tuples?
*</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">TupleFst</span> <span class="o">=</span> <span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 56)" onmouseover="showTip(event, 'fs32', 56)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs19', 57)" onmouseover="showTip(event, 'fs19', 57)" class="fn">f</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs33', 58)" onmouseover="showTip(event, 'fs33', 58)" class="fn">a</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs34', 59)" onmouseover="showTip(event, 'fs34', 59)" class="fn">b</span><span class="pn">)</span> <span class="o">=</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 60)" onmouseover="showTip(event, 'fs19', 60)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs33', 61)" onmouseover="showTip(event, 'fs33', 61)" class="fn">a</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs34', 62)" onmouseover="showTip(event, 'fs34', 62)" class="fn">b</span><span class="pn">)</span>
<span class="k">module</span> <span class="m">TupleSnd</span> <span class="o">=</span> <span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 63)" onmouseover="showTip(event, 'fs35', 63)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs19', 64)" onmouseover="showTip(event, 'fs19', 64)" class="fn">f</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 65)" onmouseover="showTip(event, 'fs36', 65)" class="fn">a</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs37', 66)" onmouseover="showTip(event, 'fs37', 66)" class="fn">b</span><span class="pn">)</span> <span class="o">=</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 67)" onmouseover="showTip(event, 'fs36', 67)" class="fn">a</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs19', 68)" onmouseover="showTip(event, 'fs19', 68)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs37', 69)" onmouseover="showTip(event, 'fs37', 69)" class="fn">b</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 70)" onmouseover="showTip(event, 'fs38', 70)" class="id">r07</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 71)" onmouseover="showTip(event, 'fs39', 71)" class="m">TupleFst</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs32', 72)" onmouseover="showTip(event, 'fs32', 72)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 73)" onmouseover="showTip(event, 'fs4', 73)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 74)" onmouseover="showTip(event, 'fs5', 74)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 75)" onmouseover="showTip(event, 'fs4', 75)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span class="n">5</span><span class="pn">,</span> <span class="s">&quot;something else&quot;</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 76)" onmouseover="showTip(event, 'fs40', 76)" class="id">r08</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 77)" onmouseover="showTip(event, 'fs41', 77)" class="m">TupleSnd</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 78)" onmouseover="showTip(event, 'fs35', 78)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 79)" onmouseover="showTip(event, 'fs4', 79)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 80)" onmouseover="showTip(event, 'fs5', 80)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 81)" onmouseover="showTip(event, 'fs4', 81)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span class="s">&quot;something else&quot;</span><span class="pn">,</span> <span class="n">5</span><span class="pn">)</span>
</code></pre>
<p>So there is more than one way to define a functor with tuples.
The same applies to the Discriminated Union of 2 types.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// DUs</span>
<span class="k">module</span> <span class="m">ChoiceFst</span> <span class="o">=</span> <span class="k">let</span> <span onmouseout="hideTip(event, 'fs42', 82)" onmouseover="showTip(event, 'fs42', 82)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs19', 83)" onmouseover="showTip(event, 'fs19', 83)" class="fn">f</span> <span class="o">=</span> <span class="k">function</span> <span onmouseout="hideTip(event, 'fs43', 84)" onmouseover="showTip(event, 'fs43', 84)" class="uc">Choice1Of2</span> <span onmouseout="hideTip(event, 'fs18', 85)" onmouseover="showTip(event, 'fs18', 85)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs43', 86)" onmouseover="showTip(event, 'fs43', 86)" class="uc">Choice1Of2</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 87)" onmouseover="showTip(event, 'fs19', 87)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 88)" onmouseover="showTip(event, 'fs18', 88)" class="fn">x</span><span class="pn">)</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs44', 89)" onmouseover="showTip(event, 'fs44', 89)" class="uc">Choice2Of2</span> <span onmouseout="hideTip(event, 'fs45', 90)" onmouseover="showTip(event, 'fs45', 90)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs44', 91)" onmouseover="showTip(event, 'fs44', 91)" class="uc">Choice2Of2</span> <span onmouseout="hideTip(event, 'fs45', 92)" onmouseover="showTip(event, 'fs45', 92)" class="fn">x</span>
<span class="k">module</span> <span class="m">ChoiceSnd</span> <span class="o">=</span> <span class="k">let</span> <span onmouseout="hideTip(event, 'fs46', 93)" onmouseover="showTip(event, 'fs46', 93)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs19', 94)" onmouseover="showTip(event, 'fs19', 94)" class="fn">f</span> <span class="o">=</span> <span class="k">function</span> <span onmouseout="hideTip(event, 'fs44', 95)" onmouseover="showTip(event, 'fs44', 95)" class="uc">Choice2Of2</span> <span onmouseout="hideTip(event, 'fs18', 96)" onmouseover="showTip(event, 'fs18', 96)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs44', 97)" onmouseover="showTip(event, 'fs44', 97)" class="uc">Choice2Of2</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 98)" onmouseover="showTip(event, 'fs19', 98)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 99)" onmouseover="showTip(event, 'fs18', 99)" class="fn">x</span><span class="pn">)</span> <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs43', 100)" onmouseover="showTip(event, 'fs43', 100)" class="uc">Choice1Of2</span> <span onmouseout="hideTip(event, 'fs45', 101)" onmouseover="showTip(event, 'fs45', 101)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs43', 102)" onmouseover="showTip(event, 'fs43', 102)" class="uc">Choice1Of2</span> <span onmouseout="hideTip(event, 'fs45', 103)" onmouseover="showTip(event, 'fs45', 103)" class="fn">x</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs47', 104)" onmouseover="showTip(event, 'fs47', 104)" class="id">choiceValue1</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs48', 105)" onmouseover="showTip(event, 'fs48', 105)" class="rt">Choice</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs49', 106)" onmouseover="showTip(event, 'fs49', 106)" class="vt">int</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs5', 107)" onmouseover="showTip(event, 'fs5', 107)" class="rt">string</span><span class="pn">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 108)" onmouseover="showTip(event, 'fs43', 108)" class="uc">Choice1Of2</span> <span class="n">5</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs50', 109)" onmouseover="showTip(event, 'fs50', 109)" class="id">choiceValue2</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs48', 110)" onmouseover="showTip(event, 'fs48', 110)" class="rt">Choice</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs49', 111)" onmouseover="showTip(event, 'fs49', 111)" class="vt">int</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs5', 112)" onmouseover="showTip(event, 'fs5', 112)" class="rt">string</span><span class="pn">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 113)" onmouseover="showTip(event, 'fs44', 113)" class="uc">Choice2Of2</span> <span class="s">&quot;Can&#39;t divide by zero.&quot;</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 114)" onmouseover="showTip(event, 'fs51', 114)" class="id">r09</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs52', 115)" onmouseover="showTip(event, 'fs52', 115)" class="m">ChoiceFst</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 116)" onmouseover="showTip(event, 'fs42', 116)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 117)" onmouseover="showTip(event, 'fs4', 117)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 118)" onmouseover="showTip(event, 'fs5', 118)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 119)" onmouseover="showTip(event, 'fs4', 119)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs47', 120)" onmouseover="showTip(event, 'fs47', 120)" class="id">choiceValue1</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs53', 121)" onmouseover="showTip(event, 'fs53', 121)" class="id">r09&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs52', 122)" onmouseover="showTip(event, 'fs52', 122)" class="m">ChoiceFst</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs42', 123)" onmouseover="showTip(event, 'fs42', 123)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 124)" onmouseover="showTip(event, 'fs4', 124)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 125)" onmouseover="showTip(event, 'fs5', 125)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 126)" onmouseover="showTip(event, 'fs4', 126)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs50', 127)" onmouseover="showTip(event, 'fs50', 127)" class="id">choiceValue2</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs54', 128)" onmouseover="showTip(event, 'fs54', 128)" class="id">r10</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 129)" onmouseover="showTip(event, 'fs55', 129)" class="m">ChoiceSnd</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 130)" onmouseover="showTip(event, 'fs46', 130)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs56', 131)" onmouseover="showTip(event, 'fs56', 131)" class="fn">x</span> <span class="k">-&gt;</span> <span class="s">&quot;The error was: &quot;</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs56', 132)" onmouseover="showTip(event, 'fs56', 132)" class="fn">x</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs47', 133)" onmouseover="showTip(event, 'fs47', 133)" class="id">choiceValue1</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 134)" onmouseover="showTip(event, 'fs57', 134)" class="id">r10&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 135)" onmouseover="showTip(event, 'fs55', 135)" class="m">ChoiceSnd</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs46', 136)" onmouseover="showTip(event, 'fs46', 136)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs56', 137)" onmouseover="showTip(event, 'fs56', 137)" class="fn">x</span> <span class="k">-&gt;</span> <span class="s">&quot;The error was: &quot;</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs56', 138)" onmouseover="showTip(event, 'fs56', 138)" class="fn">x</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs50', 139)" onmouseover="showTip(event, 'fs50', 139)" class="id">choiceValue2</span>
</code></pre>
<p>Tree as a functor</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs58', 140)" onmouseover="showTip(event, 'fs58', 140)" class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span> <span class="o">=</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs58', 141)" onmouseover="showTip(event, 'fs58', 141)" class="uc">Tree</span> <span class="k">of</span> <span class="ta">&#39;</span><span class="id">a</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs58', 142)" onmouseover="showTip(event, 'fs58', 142)" class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span> <span class="pn">*</span> <span onmouseout="hideTip(event, 'fs58', 143)" onmouseover="showTip(event, 'fs58', 143)" class="rt">Tree</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">a</span><span class="pn">&gt;</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs59', 144)" onmouseover="showTip(event, 'fs59', 144)" class="uc">Leaf</span> <span class="k">of</span> <span class="ta">&#39;</span><span class="id">a</span>

<span class="k">module</span> <span onmouseout="hideTip(event, 'fs60', 145)" onmouseover="showTip(event, 'fs60', 145)" class="m">Tree</span> <span class="o">=</span> <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs61', 146)" onmouseover="showTip(event, 'fs61', 146)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs19', 147)" onmouseover="showTip(event, 'fs19', 147)" class="fn">f</span> <span class="o">=</span> <span class="k">function</span> 
                <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs59', 148)" onmouseover="showTip(event, 'fs59', 148)" class="uc">Leaf</span> <span onmouseout="hideTip(event, 'fs18', 149)" onmouseover="showTip(event, 'fs18', 149)" class="fn">x</span>        <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs59', 150)" onmouseover="showTip(event, 'fs59', 150)" class="uc">Leaf</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 151)" onmouseover="showTip(event, 'fs19', 151)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 152)" onmouseover="showTip(event, 'fs18', 152)" class="fn">x</span><span class="pn">)</span> 
                <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs58', 153)" onmouseover="showTip(event, 'fs58', 153)" class="uc">Tree</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs18', 154)" onmouseover="showTip(event, 'fs18', 154)" class="fn">x</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs62', 155)" onmouseover="showTip(event, 'fs62', 155)" class="fn">t1</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs63', 156)" onmouseover="showTip(event, 'fs63', 156)" class="fn">t2</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs58', 157)" onmouseover="showTip(event, 'fs58', 157)" class="uc">Tree</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 158)" onmouseover="showTip(event, 'fs19', 158)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 159)" onmouseover="showTip(event, 'fs18', 159)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs61', 160)" onmouseover="showTip(event, 'fs61', 160)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs19', 161)" onmouseover="showTip(event, 'fs19', 161)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs62', 162)" onmouseover="showTip(event, 'fs62', 162)" class="fn">t1</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs61', 163)" onmouseover="showTip(event, 'fs61', 163)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs19', 164)" onmouseover="showTip(event, 'fs19', 164)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs63', 165)" onmouseover="showTip(event, 'fs63', 165)" class="fn">t2</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 166)" onmouseover="showTip(event, 'fs64', 166)" class="id">myTree</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs65', 167)" onmouseover="showTip(event, 'fs65', 167)" class="uc">Tree</span><span class="pn">(</span><span class="n">6</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs65', 168)" onmouseover="showTip(event, 'fs65', 168)" class="uc">Tree</span><span class="pn">(</span><span class="n">2</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs59', 169)" onmouseover="showTip(event, 'fs59', 169)" class="uc">Leaf</span> <span class="n">1</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs59', 170)" onmouseover="showTip(event, 'fs59', 170)" class="uc">Leaf</span> <span class="n">3</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs59', 171)" onmouseover="showTip(event, 'fs59', 171)" class="uc">Leaf</span> <span class="n">9</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs66', 172)" onmouseover="showTip(event, 'fs66', 172)" class="id">r11</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs65', 173)" onmouseover="showTip(event, 'fs65', 173)" class="m">Tree</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 174)" onmouseover="showTip(event, 'fs61', 174)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 175)" onmouseover="showTip(event, 'fs4', 175)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 176)" onmouseover="showTip(event, 'fs5', 176)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 177)" onmouseover="showTip(event, 'fs4', 177)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs64', 178)" onmouseover="showTip(event, 'fs64', 178)" class="id">myTree</span>
</code></pre>
<p>Q: is String a Functor?</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs67', 179)" onmouseover="showTip(event, 'fs67', 179)" class="id">r12</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs68', 180)" onmouseover="showTip(event, 'fs68', 180)" class="m">String</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 181)" onmouseover="showTip(event, 'fs69', 181)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs70', 182)" onmouseover="showTip(event, 'fs70', 182)" class="fn">c</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs71', 183)" onmouseover="showTip(event, 'fs71', 183)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs72', 184)" onmouseover="showTip(event, 'fs72', 184)" class="vt">Char</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs73', 185)" onmouseover="showTip(event, 'fs73', 185)" class="id">ToUpper</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs70', 186)" onmouseover="showTip(event, 'fs70', 186)" class="fn">c</span><span class="pn">)</span><span class="pn">)</span> <span class="s">&quot;Hello world&quot;</span>
</code></pre>
<p>A: Kind of, but we can't change the wrapped type. We're stick to ('a-&gt;'a) -&gt; C<'a> -&gt; C<'a>
if we assume 'a = char and C<'a> = String</p>
<p>Finally there are some laws:</p>
<ul>
<li><code>map id = id</code></li>
<li><code>map (f &gt;&gt; g) = map f &gt;&gt; map g</code></li>
</ul>
<p>Limitations:</p>
<p>We can define <code>map2</code> then <code>map3</code>  then ..  <code>mapN</code> ?</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs10', 187)" onmouseover="showTip(event, 'fs10', 187)" class="rt">Option</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">T</span><span class="pn">&gt;</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> <span class="fn">map2</span> <span onmouseout="hideTip(event, 'fs74', 188)" onmouseover="showTip(event, 'fs74', 188)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs75', 189)" onmouseover="showTip(event, 'fs75', 189)" class="fn">x</span> <span onmouseout="hideTip(event, 'fs76', 190)" onmouseover="showTip(event, 'fs76', 190)" class="fn">y</span> <span class="o">=</span> 
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs75', 191)" onmouseover="showTip(event, 'fs75', 191)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs76', 192)" onmouseover="showTip(event, 'fs76', 192)" class="fn">y</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs12', 193)" onmouseover="showTip(event, 'fs12', 193)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs18', 194)" onmouseover="showTip(event, 'fs18', 194)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs12', 195)" onmouseover="showTip(event, 'fs12', 195)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs77', 196)" onmouseover="showTip(event, 'fs77', 196)" class="fn">y</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 197)" onmouseover="showTip(event, 'fs12', 197)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs74', 198)" onmouseover="showTip(event, 'fs74', 198)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 199)" onmouseover="showTip(event, 'fs18', 199)" class="fn">x</span> <span onmouseout="hideTip(event, 'fs77', 200)" onmouseover="showTip(event, 'fs77', 200)" class="fn">y</span><span class="pn">)</span>
        <span class="pn">|</span> <span class="id">_</span>              <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 201)" onmouseover="showTip(event, 'fs78', 201)" class="uc">None</span>

    <span class="k">static</span> <span class="k">member</span> <span class="fn">map3</span> <span onmouseout="hideTip(event, 'fs79', 202)" onmouseover="showTip(event, 'fs79', 202)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs75', 203)" onmouseover="showTip(event, 'fs75', 203)" class="fn">x</span> <span onmouseout="hideTip(event, 'fs76', 204)" onmouseover="showTip(event, 'fs76', 204)" class="fn">y</span> <span onmouseout="hideTip(event, 'fs80', 205)" onmouseover="showTip(event, 'fs80', 205)" class="fn">z</span> <span class="o">=</span> 
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs75', 206)" onmouseover="showTip(event, 'fs75', 206)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs76', 207)" onmouseover="showTip(event, 'fs76', 207)" class="fn">y</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs80', 208)" onmouseover="showTip(event, 'fs80', 208)" class="fn">z</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs12', 209)" onmouseover="showTip(event, 'fs12', 209)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs18', 210)" onmouseover="showTip(event, 'fs18', 210)" class="fn">x</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs12', 211)" onmouseover="showTip(event, 'fs12', 211)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs77', 212)" onmouseover="showTip(event, 'fs77', 212)" class="fn">y</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs12', 213)" onmouseover="showTip(event, 'fs12', 213)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs81', 214)" onmouseover="showTip(event, 'fs81', 214)" class="fn">z</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 215)" onmouseover="showTip(event, 'fs12', 215)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs79', 216)" onmouseover="showTip(event, 'fs79', 216)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 217)" onmouseover="showTip(event, 'fs18', 217)" class="fn">x</span> <span onmouseout="hideTip(event, 'fs77', 218)" onmouseover="showTip(event, 'fs77', 218)" class="fn">y</span> <span onmouseout="hideTip(event, 'fs81', 219)" onmouseover="showTip(event, 'fs81', 219)" class="fn">z</span><span class="pn">)</span>
        <span class="pn">|</span> <span class="id">_</span>                      <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 220)" onmouseover="showTip(event, 'fs78', 220)" class="uc">None</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs82', 221)" onmouseover="showTip(event, 'fs82', 221)" class="id">r13</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 222)" onmouseover="showTip(event, 'fs10', 222)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs83', 223)" onmouseover="showTip(event, 'fs83', 223)" class="id">map2</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 224)" onmouseover="showTip(event, 'fs12', 224)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 225)" onmouseover="showTip(event, 'fs12', 225)" class="uc">Some</span> <span class="n">3</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs84', 226)" onmouseover="showTip(event, 'fs84', 226)" class="id">r14</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 227)" onmouseover="showTip(event, 'fs2', 227)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs85', 228)" onmouseover="showTip(event, 'fs85', 228)" class="id">map2</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">]</span> <span class="pn">[</span><span class="n">10</span><span class="pn">;</span><span class="n">11</span><span class="pn">;</span><span class="n">12</span><span class="pn">]</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs86', 229)" onmouseover="showTip(event, 'fs86', 229)" class="fn">add3</span> <span onmouseout="hideTip(event, 'fs87', 230)" onmouseover="showTip(event, 'fs87', 230)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs88', 231)" onmouseover="showTip(event, 'fs88', 231)" class="fn">b</span> <span onmouseout="hideTip(event, 'fs89', 232)" onmouseover="showTip(event, 'fs89', 232)" class="fn">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs87', 233)" onmouseover="showTip(event, 'fs87', 233)" class="fn">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs88', 234)" onmouseover="showTip(event, 'fs88', 234)" class="fn">b</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs89', 235)" onmouseover="showTip(event, 'fs89', 235)" class="fn">c</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 236)" onmouseover="showTip(event, 'fs90', 236)" class="id">r15</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 237)" onmouseover="showTip(event, 'fs10', 237)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs91', 238)" onmouseover="showTip(event, 'fs91', 238)" class="id">map3</span> <span onmouseout="hideTip(event, 'fs86', 239)" onmouseover="showTip(event, 'fs86', 239)" class="fn">add3</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 240)" onmouseover="showTip(event, 'fs12', 240)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 241)" onmouseover="showTip(event, 'fs12', 241)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 242)" onmouseover="showTip(event, 'fs12', 242)" class="uc">Some</span> <span class="n">1</span><span class="pn">)</span>
</code></pre>
<p>Question: Is it possible to generalize to mapN?</p>
<h1><a name="Applicative-Functors" class="anchor" href="#Applicative-Functors">Applicative Functors</a></h1>
<p>What if we split <code>map</code> in 2 steps?</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// map (&#39;a -&gt; &#39;b) -&gt; C&lt;&#39;a&gt; -&gt; C&lt;&#39;b&gt;</span>
<span class="c">//     \--------/    \---/    \---/</span>
<span class="c">//         (a)        (b)      (c)</span>
<span class="c">//</span>
<span class="c">// 1)    (&#39;a -&gt; &#39;b)        -&gt;  C&lt;&#39;a -&gt; &#39;b&gt;</span>
<span class="c">//       \--------/            \---------/</span>
<span class="c">//           (a)                      </span>
<span class="c">//               </span>
<span class="c">// 2)  C&lt;&#39;a -&gt; &#39;b&gt; -&gt; C&lt;&#39;a&gt;  -&gt;   C&lt;&#39;b&gt;</span>
<span class="c">//     \---------/    \---/       \---/</span>
<span class="c">//                     (b)         (c)</span>
<span class="c">//</span>
<span class="c">//</span>
<span class="c">// step1   (&#39;a -&gt; &#39;b)        -&gt;  &quot;C&lt;&#39;a -&gt; &#39;b&gt;&quot;      Put the function into a context C</span>
<span class="c">// step2 &quot;C&lt;&#39;a -&gt; &#39;b&gt;&quot; C&lt;&#39;a&gt; -&gt;   C&lt;&#39;b&gt;             Apply the function in a context C to a value in a context C</span>
</code></pre>
<p>Here's an example with Options</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs92', 243)" onmouseover="showTip(event, 'fs92', 243)" class="fn">step1</span> <span onmouseout="hideTip(event, 'fs93', 244)" onmouseover="showTip(event, 'fs93', 244)" class="fn">f</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 245)" onmouseover="showTip(event, 'fs12', 245)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs93', 246)" onmouseover="showTip(event, 'fs93', 246)" class="fn">f</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs94', 247)" onmouseover="showTip(event, 'fs94', 247)" class="fn">step2</span> <span onmouseout="hideTip(event, 'fs95', 248)" onmouseover="showTip(event, 'fs95', 248)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs96', 249)" onmouseover="showTip(event, 'fs96', 249)" class="fn">b</span> <span class="o">=</span> 
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs95', 250)" onmouseover="showTip(event, 'fs95', 250)" class="fn">a</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs96', 251)" onmouseover="showTip(event, 'fs96', 251)" class="fn">b</span> <span class="k">with</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs12', 252)" onmouseover="showTip(event, 'fs12', 252)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs19', 253)" onmouseover="showTip(event, 'fs19', 253)" class="fn">f</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs12', 254)" onmouseover="showTip(event, 'fs12', 254)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs18', 255)" onmouseover="showTip(event, 'fs18', 255)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 256)" onmouseover="showTip(event, 'fs12', 256)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 257)" onmouseover="showTip(event, 'fs19', 257)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 258)" onmouseover="showTip(event, 'fs18', 258)" class="fn">x</span><span class="pn">)</span>
    <span class="pn">|</span> <span class="id">_</span>              <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 259)" onmouseover="showTip(event, 'fs78', 259)" class="uc">None</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs97', 260)" onmouseover="showTip(event, 'fs97', 260)" class="id">r16</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs92', 261)" onmouseover="showTip(event, 'fs92', 261)" class="fn">step1</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 262)" onmouseover="showTip(event, 'fs4', 262)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 263)" onmouseover="showTip(event, 'fs5', 263)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 264)" onmouseover="showTip(event, 'fs4', 264)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs98', 265)" onmouseover="showTip(event, 'fs98', 265)" class="id">r17</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs94', 266)" onmouseover="showTip(event, 'fs94', 266)" class="fn">step2</span> <span onmouseout="hideTip(event, 'fs97', 267)" onmouseover="showTip(event, 'fs97', 267)" class="id">r16</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 268)" onmouseover="showTip(event, 'fs12', 268)" class="uc">Some</span> <span class="n">5</span><span class="pn">)</span>

    
</code></pre>
<p>So now instead of writing:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs99', 269)" onmouseover="showTip(event, 'fs99', 269)" class="id">r18</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 270)" onmouseover="showTip(event, 'fs10', 270)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 271)" onmouseover="showTip(event, 'fs11', 271)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 272)" onmouseover="showTip(event, 'fs4', 272)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 273)" onmouseover="showTip(event, 'fs5', 273)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 274)" onmouseover="showTip(event, 'fs4', 274)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 275)" onmouseover="showTip(event, 'fs12', 275)" class="uc">Some</span> <span class="n">5</span><span class="pn">)</span>
</code></pre>
<p>we write</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs100', 276)" onmouseover="showTip(event, 'fs100', 276)" class="id">r18&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs94', 277)" onmouseover="showTip(event, 'fs94', 277)" class="fn">step2</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs92', 278)" onmouseover="showTip(event, 'fs92', 278)" class="fn">step1</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 279)" onmouseover="showTip(event, 'fs4', 279)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 280)" onmouseover="showTip(event, 'fs5', 280)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 281)" onmouseover="showTip(event, 'fs4', 281)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 282)" onmouseover="showTip(event, 'fs12', 282)" class="uc">Some</span> <span class="n">5</span><span class="pn">)</span>

    
</code></pre>
<p>and instead of <code>map2</code> like this:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs101', 283)" onmouseover="showTip(event, 'fs101', 283)" class="id">r19</span>   <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 284)" onmouseover="showTip(event, 'fs10', 284)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs83', 285)" onmouseover="showTip(event, 'fs83', 285)" class="id">map2</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 286)" onmouseover="showTip(event, 'fs12', 286)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 287)" onmouseover="showTip(event, 'fs12', 287)" class="uc">Some</span> <span class="n">3</span><span class="pn">)</span>
</code></pre>
<p>we write</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs102', 288)" onmouseover="showTip(event, 'fs102', 288)" class="id">r19i</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs94', 289)" onmouseover="showTip(event, 'fs94', 289)" class="fn">step2</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs92', 290)" onmouseover="showTip(event, 'fs92', 290)" class="fn">step1</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 291)" onmouseover="showTip(event, 'fs12', 291)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span>
</code></pre>
<p>.. and finally</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs103', 292)" onmouseover="showTip(event, 'fs103', 292)" class="id">r19&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs94', 293)" onmouseover="showTip(event, 'fs94', 293)" class="fn">step2</span> <span onmouseout="hideTip(event, 'fs102', 294)" onmouseover="showTip(event, 'fs102', 294)" class="id">r19i</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 295)" onmouseover="showTip(event, 'fs12', 295)" class="uc">Some</span> <span class="n">3</span><span class="pn">)</span>
</code></pre>
<p>by applying <code>step2</code> again. We can apply <code>step2</code> again if the result is still a function in a container, just like partial application.</p>
<p>lets give names to <code>step1</code> and <code>step2</code>: <code>pure</code> and <code>&lt;*&gt;</code></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">OptionAsApplicative</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs104', 296)" onmouseover="showTip(event, 'fs104', 296)" class="fn">pure&#39;</span> <span onmouseout="hideTip(event, 'fs18', 297)" onmouseover="showTip(event, 'fs18', 297)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 298)" onmouseover="showTip(event, 'fs12', 298)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs18', 299)" onmouseover="showTip(event, 'fs18', 299)" class="fn">x</span>
    <span class="k">let</span> <span class="pn">(</span><span class="o">&lt;*&gt;</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs95', 300)" onmouseover="showTip(event, 'fs95', 300)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs96', 301)" onmouseover="showTip(event, 'fs96', 301)" class="fn">b</span> <span class="o">=</span> 
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs95', 302)" onmouseover="showTip(event, 'fs95', 302)" class="fn">a</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs96', 303)" onmouseover="showTip(event, 'fs96', 303)" class="fn">b</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs12', 304)" onmouseover="showTip(event, 'fs12', 304)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs19', 305)" onmouseover="showTip(event, 'fs19', 305)" class="fn">f</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs12', 306)" onmouseover="showTip(event, 'fs12', 306)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs18', 307)" onmouseover="showTip(event, 'fs18', 307)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs12', 308)" onmouseover="showTip(event, 'fs12', 308)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 309)" onmouseover="showTip(event, 'fs19', 309)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 310)" onmouseover="showTip(event, 'fs18', 310)" class="fn">x</span><span class="pn">)</span>
        <span class="pn">|</span> <span class="id">_</span>              <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs78', 311)" onmouseover="showTip(event, 'fs78', 311)" class="uc">None</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs105', 312)" onmouseover="showTip(event, 'fs105', 312)" class="m">OptionAsApplicative</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs106', 313)" onmouseover="showTip(event, 'fs106', 313)" class="id">r18&#39;&#39;</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 314)" onmouseover="showTip(event, 'fs10', 314)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 315)" onmouseover="showTip(event, 'fs11', 315)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 316)" onmouseover="showTip(event, 'fs4', 316)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 317)" onmouseover="showTip(event, 'fs5', 317)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 318)" onmouseover="showTip(event, 'fs4', 318)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 319)" onmouseover="showTip(event, 'fs12', 319)" class="uc">Some</span> <span class="n">5</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs107', 320)" onmouseover="showTip(event, 'fs107', 320)" class="id">r18&#39;&#39;&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 321)" onmouseover="showTip(event, 'fs12', 321)" class="uc">Some</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 322)" onmouseover="showTip(event, 'fs4', 322)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 323)" onmouseover="showTip(event, 'fs5', 323)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 324)" onmouseover="showTip(event, 'fs4', 324)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 325)" onmouseover="showTip(event, 'fs12', 325)" class="uc">Some</span> <span class="n">5</span>
<span class="c">// analog to:</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs108', 326)" onmouseover="showTip(event, 'fs108', 326)" class="id">r18&#39;&#39;&#39;&#39;</span> <span class="o">=</span>     <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 327)" onmouseover="showTip(event, 'fs4', 327)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 328)" onmouseover="showTip(event, 'fs5', 328)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 329)" onmouseover="showTip(event, 'fs4', 329)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span>          <span class="n">5</span>
</code></pre>
<p>Now with <code>map3</code> (and further with mapN)</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs109', 330)" onmouseover="showTip(event, 'fs109', 330)" class="id">r20</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 331)" onmouseover="showTip(event, 'fs10', 331)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs91', 332)" onmouseover="showTip(event, 'fs91', 332)" class="id">map3</span> <span onmouseout="hideTip(event, 'fs86', 333)" onmouseover="showTip(event, 'fs86', 333)" class="fn">add3</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 334)" onmouseover="showTip(event, 'fs12', 334)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 335)" onmouseover="showTip(event, 'fs12', 335)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 336)" onmouseover="showTip(event, 'fs12', 336)" class="uc">Some</span> <span class="n">1</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs110', 337)" onmouseover="showTip(event, 'fs110', 337)" class="id">r20&#39;</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 338)" onmouseover="showTip(event, 'fs12', 338)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs86', 339)" onmouseover="showTip(event, 'fs86', 339)" class="fn">add3</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 340)" onmouseover="showTip(event, 'fs12', 340)" class="uc">Some</span> <span class="n">2</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 341)" onmouseover="showTip(event, 'fs12', 341)" class="uc">Some</span> <span class="n">2</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 342)" onmouseover="showTip(event, 'fs12', 342)" class="uc">Some</span> <span class="n">1</span>
<span class="c">// analog to:</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs111', 343)" onmouseover="showTip(event, 'fs111', 343)" class="id">r20&#39;&#39;</span>  <span class="o">=</span>     <span onmouseout="hideTip(event, 'fs86', 344)" onmouseover="showTip(event, 'fs86', 344)" class="fn">add3</span>          <span class="n">2</span>          <span class="n">2</span>          <span class="n">1</span>
</code></pre>
<p>but even without <code>add3</code> we can write <code>1 + 2 + 2</code> which is <code>1 + (2 + 2)</code> and the same as:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs112', 345)" onmouseover="showTip(event, 'fs112', 345)" class="id">r20&#39;&#39;&#39;</span>  <span class="o">=</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="n">1</span> <span class="pn">(</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="n">2</span> <span class="n">2</span><span class="pn">)</span>
</code></pre>
<p>with options becomes:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs113', 346)" onmouseover="showTip(event, 'fs113', 346)" class="id">r20&#39;&#39;&#39;&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 347)" onmouseover="showTip(event, 'fs12', 347)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 348)" onmouseover="showTip(event, 'fs12', 348)" class="uc">Some</span> <span class="n">1</span> <span class="o">&lt;*&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 349)" onmouseover="showTip(event, 'fs12', 349)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 350)" onmouseover="showTip(event, 'fs12', 350)" class="uc">Some</span> <span class="n">2</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 351)" onmouseover="showTip(event, 'fs12', 351)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span>
</code></pre>
<p>constrast it with</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs114', 352)" onmouseover="showTip(event, 'fs114', 352)" class="id">r20&#39;&#39;&#39;&#39;&#39;</span>  <span class="o">=</span>    <span class="pn">(</span><span class="o">+</span><span class="pn">)</span>          <span class="n">1</span>     <span class="pn">(</span>     <span class="pn">(</span><span class="o">+</span><span class="pn">)</span>          <span class="n">2</span>          <span class="n">2</span><span class="pn">)</span>
</code></pre>
<p>we know <code>apply</code> is <code>(&lt;|)</code> in F#</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs115', 353)" onmouseover="showTip(event, 'fs115', 353)" class="id">r21</span>     <span class="o">=</span>      <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;|</span>       <span class="n">1</span> <span class="o">&lt;|</span>  <span class="pn">(</span>     <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;|</span>       <span class="n">2</span> <span class="o">&lt;|</span>       <span class="n">2</span><span class="pn">)</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs116', 354)" onmouseover="showTip(event, 'fs116', 354)" class="id">r21&#39;</span>    <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 355)" onmouseover="showTip(event, 'fs12', 355)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 356)" onmouseover="showTip(event, 'fs12', 356)" class="uc">Some</span> <span class="n">1</span> <span class="o">&lt;*&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 357)" onmouseover="showTip(event, 'fs12', 357)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 358)" onmouseover="showTip(event, 'fs12', 358)" class="uc">Some</span> <span class="n">2</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 359)" onmouseover="showTip(event, 'fs12', 359)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span>
</code></pre>
<p>So at this point the name "Applicative Functor" should make sense</p>
<p>Q: Isn't it easier to do just <code>Some ( (+) 1 ((+) 2 2) )</code> ?
We get the same result in the end.
A: Yes, in this particular case it's the same but what if instead of <code>Some 1</code> we have <code>None</code></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs117', 360)" onmouseover="showTip(event, 'fs117', 360)" class="id">r22</span>   <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 361)" onmouseover="showTip(event, 'fs12', 361)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs78', 362)" onmouseover="showTip(event, 'fs78', 362)" class="uc">None</span> <span class="o">&lt;*&gt;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 363)" onmouseover="showTip(event, 'fs12', 363)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 364)" onmouseover="showTip(event, 'fs12', 364)" class="uc">Some</span> <span class="n">2</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs12', 365)" onmouseover="showTip(event, 'fs12', 365)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span>
</code></pre>
<p>That's because we're applying functions inside a context.</p>
<p>It looks the same as applying outside but in fact some effects occurs behind the scenes.</p>
<p>To have a better idea let's move out of Option:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs118', 366)" onmouseover="showTip(event, 'fs118', 366)" class="rt">AutoOpen</span><span class="pn">&gt;]</span>
<span class="k">module</span> <span onmouseout="hideTip(event, 'fs26', 367)" onmouseover="showTip(event, 'fs26', 367)" class="m">Async</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs119', 368)" onmouseover="showTip(event, 'fs119', 368)" class="fn">pure&#39;</span> <span onmouseout="hideTip(event, 'fs18', 369)" onmouseover="showTip(event, 'fs18', 369)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 370)" onmouseover="showTip(event, 'fs22', 370)" class="id">async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 371)" onmouseover="showTip(event, 'fs23', 371)" class="id">Return</span> <span onmouseout="hideTip(event, 'fs18', 372)" onmouseover="showTip(event, 'fs18', 372)" class="fn">x</span>
    <span class="k">let</span> <span class="pn">(</span><span class="o">&lt;*&gt;</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs120', 373)" onmouseover="showTip(event, 'fs120', 373)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs121', 374)" onmouseover="showTip(event, 'fs121', 374)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 375)" onmouseover="showTip(event, 'fs22', 375)" class="id">async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs122', 376)" onmouseover="showTip(event, 'fs122', 376)" class="id">Bind</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs120', 377)" onmouseover="showTip(event, 'fs120', 377)" class="fn">f</span><span class="pn">,</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs123', 378)" onmouseover="showTip(event, 'fs123', 378)" class="fn">x1</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs22', 379)" onmouseover="showTip(event, 'fs22', 379)" class="id">async</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs122', 380)" onmouseover="showTip(event, 'fs122', 380)" class="id">Bind</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs121', 381)" onmouseover="showTip(event, 'fs121', 381)" class="fn">x</span><span class="pn">,</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs124', 382)" onmouseover="showTip(event, 'fs124', 382)" class="fn">x2</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs119', 383)" onmouseover="showTip(event, 'fs119', 383)" class="fn">pure&#39;</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs123', 384)" onmouseover="showTip(event, 'fs123', 384)" class="fn">x1</span> <span onmouseout="hideTip(event, 'fs124', 385)" onmouseover="showTip(event, 'fs124', 385)" class="fn">x2</span><span class="pn">)</span><span class="pn">)</span><span class="pn">)</span>

    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs125', 386)" onmouseover="showTip(event, 'fs125', 386)" class="id">r23</span>   <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 387)" onmouseover="showTip(event, 'fs22', 387)" class="k">async</span> <span class="pn">{</span><span class="k">return</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span><span class="pn">}</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs22', 388)" onmouseover="showTip(event, 'fs22', 388)" class="k">async</span> <span class="pn">{</span><span class="k">return</span> <span class="n">2</span><span class="pn">}</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs22', 389)" onmouseover="showTip(event, 'fs22', 389)" class="k">async</span> <span class="pn">{</span><span class="k">return</span> <span class="n">3</span><span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs126', 390)" onmouseover="showTip(event, 'fs126', 390)" class="id">r23&#39;</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs119', 391)" onmouseover="showTip(event, 'fs119', 391)" class="fn">pure&#39;</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs119', 392)" onmouseover="showTip(event, 'fs119', 392)" class="fn">pure&#39;</span> <span class="n">2</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs119', 393)" onmouseover="showTip(event, 'fs119', 393)" class="fn">pure&#39;</span> <span class="n">3</span>
</code></pre>
<p>try <code>Async.RunSynchronously r23'</code></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs127', 394)" onmouseover="showTip(event, 'fs127', 394)" class="id">getLine</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs22', 395)" onmouseover="showTip(event, 'fs22', 395)" class="k">async</span> <span class="pn">{</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 396)" onmouseover="showTip(event, 'fs56', 396)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs71', 397)" onmouseover="showTip(event, 'fs71', 397)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs128', 398)" onmouseover="showTip(event, 'fs128', 398)" class="rt">Console</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs129', 399)" onmouseover="showTip(event, 'fs129', 399)" class="id">ReadLine</span><span class="pn">(</span><span class="pn">)</span> 
        <span class="k">return</span>  <span onmouseout="hideTip(event, 'fs71', 400)" onmouseover="showTip(event, 'fs71', 400)" class="id">System</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs130', 401)" onmouseover="showTip(event, 'fs130', 401)" class="vt">Int32</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs131', 402)" onmouseover="showTip(event, 'fs131', 402)" class="id">Parse</span> <span onmouseout="hideTip(event, 'fs56', 403)" onmouseover="showTip(event, 'fs56', 403)" class="fn">x</span>
    <span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs132', 404)" onmouseover="showTip(event, 'fs132', 404)" class="id">r24</span>  <span class="o">=</span> <span onmouseout="hideTip(event, 'fs119', 405)" onmouseover="showTip(event, 'fs119', 405)" class="fn">pure&#39;</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs127', 406)" onmouseover="showTip(event, 'fs127', 406)" class="id">getLine</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs127', 407)" onmouseover="showTip(event, 'fs127', 407)" class="id">getLine</span>
</code></pre>
<p>try <code>Async.RunSynchronously r24</code></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">ListAsApplicative</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs133', 408)" onmouseover="showTip(event, 'fs133', 408)" class="fn">pure&#39;</span> <span onmouseout="hideTip(event, 'fs18', 409)" onmouseover="showTip(event, 'fs18', 409)" class="fn">x</span> <span class="o">=</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs18', 410)" onmouseover="showTip(event, 'fs18', 410)" class="fn">x</span><span class="pn">]</span>        
    <span class="k">let</span> <span class="pn">(</span><span class="o">&lt;*&gt;</span><span class="pn">)</span>  <span onmouseout="hideTip(event, 'fs134', 411)" onmouseover="showTip(event, 'fs134', 411)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs135', 412)" onmouseover="showTip(event, 'fs135', 412)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs2', 413)" onmouseover="showTip(event, 'fs2', 413)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs136', 414)" onmouseover="showTip(event, 'fs136', 414)" class="id">collect</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs123', 415)" onmouseover="showTip(event, 'fs123', 415)" class="fn">x1</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs2', 416)" onmouseover="showTip(event, 'fs2', 416)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs136', 417)" onmouseover="showTip(event, 'fs136', 417)" class="id">collect</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs124', 418)" onmouseover="showTip(event, 'fs124', 418)" class="fn">x2</span> <span class="k">-&gt;</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs123', 419)" onmouseover="showTip(event, 'fs123', 419)" class="fn">x1</span> <span onmouseout="hideTip(event, 'fs124', 420)" onmouseover="showTip(event, 'fs124', 420)" class="fn">x2</span><span class="pn">]</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs135', 421)" onmouseover="showTip(event, 'fs135', 421)" class="fn">x</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs134', 422)" onmouseover="showTip(event, 'fs134', 422)" class="fn">f</span>

    <span class="c">(* here are two other possible implementations of (&lt;*&gt;) for List</span>
<span class="c">    let (&lt;*&gt;) f x = f |&gt; List.map (fun f -&gt; x |&gt; List.map (fun x -&gt; f x)) |&gt; List.concat</span>
<span class="c">    let (&lt;*&gt;) f x= </span>
<span class="c">        seq {</span>
<span class="c">                for f in f do</span>
<span class="c">                for x in x do</span>
<span class="c">                yield f x} |&gt; Seq.toList *)</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs137', 423)" onmouseover="showTip(event, 'fs137', 423)" class="m">ListAsApplicative</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs138', 424)" onmouseover="showTip(event, 'fs138', 424)" class="id">r25</span> <span class="o">=</span>  <span onmouseout="hideTip(event, 'fs2', 425)" onmouseover="showTip(event, 'fs2', 425)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 426)" onmouseover="showTip(event, 'fs3', 426)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 427)" onmouseover="showTip(event, 'fs4', 427)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 428)" onmouseover="showTip(event, 'fs5', 428)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 429)" onmouseover="showTip(event, 'fs4', 429)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">]</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs139', 430)" onmouseover="showTip(event, 'fs139', 430)" class="id">r25&#39;</span>  <span class="o">=</span>       <span class="pn">[</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 431)" onmouseover="showTip(event, 'fs4', 431)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 432)" onmouseover="showTip(event, 'fs5', 432)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 433)" onmouseover="showTip(event, 'fs4', 433)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">1..</span><span class="n">3</span><span class="pn">]</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs140', 434)" onmouseover="showTip(event, 'fs140', 434)" class="id">r25&#39;&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs133', 435)" onmouseover="showTip(event, 'fs133', 435)" class="fn">pure&#39;</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 436)" onmouseover="showTip(event, 'fs4', 436)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 437)" onmouseover="showTip(event, 'fs5', 437)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 438)" onmouseover="showTip(event, 'fs4', 438)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">1..</span><span class="n">3</span><span class="pn">]</span>


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs141', 439)" onmouseover="showTip(event, 'fs141', 439)" class="id">r26</span> <span class="o">=</span> <span class="pn">[</span><span onmouseout="hideTip(event, 'fs5', 440)" onmouseover="showTip(event, 'fs5', 440)" class="fn">string</span><span class="pn">;</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 441)" onmouseover="showTip(event, 'fs4', 441)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 442)" onmouseover="showTip(event, 'fs5', 442)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 443)" onmouseover="showTip(event, 'fs4', 443)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">]</span>
</code></pre>
<p>So, for lists <code>map2</code> is equivalent to write:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs142', 444)" onmouseover="showTip(event, 'fs142', 444)" class="id">r27</span> <span class="o">=</span> <span class="pn">[</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">10</span><span class="pn">;</span><span class="n">20</span><span class="pn">;</span><span class="n">30</span><span class="pn">]</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs143', 445)" onmouseover="showTip(event, 'fs143', 445)" class="id">r28</span> <span class="o">=</span> <span class="pn">[</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span><span class="pn">;</span><span class="pn">(</span><span class="o">-</span><span class="pn">)</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span class="pn">[</span><span class="n">10</span><span class="pn">;</span><span class="n">20</span><span class="pn">;</span><span class="n">30</span><span class="pn">]</span>


    
<span class="k">module</span> <span class="m">SeqAsApplicative</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs144', 446)" onmouseover="showTip(event, 'fs144', 446)" class="fn">pure&#39;</span> <span onmouseout="hideTip(event, 'fs18', 447)" onmouseover="showTip(event, 'fs18', 447)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs145', 448)" onmouseover="showTip(event, 'fs145', 448)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs146', 449)" onmouseover="showTip(event, 'fs146', 449)" class="id">initInfinite</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs18', 450)" onmouseover="showTip(event, 'fs18', 450)" class="fn">x</span><span class="pn">)</span>
    <span class="k">let</span> <span class="pn">(</span><span class="o">&lt;*&gt;</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs147', 451)" onmouseover="showTip(event, 'fs147', 451)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs148', 452)" onmouseover="showTip(event, 'fs148', 452)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs145', 453)" onmouseover="showTip(event, 'fs145', 453)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs149', 454)" onmouseover="showTip(event, 'fs149', 454)" class="id">zip</span> <span onmouseout="hideTip(event, 'fs147', 455)" onmouseover="showTip(event, 'fs147', 455)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs148', 456)" onmouseover="showTip(event, 'fs148', 456)" class="fn">x</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs145', 457)" onmouseover="showTip(event, 'fs145', 457)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs150', 458)" onmouseover="showTip(event, 'fs150', 458)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 459)" onmouseover="showTip(event, 'fs19', 459)" class="fn">f</span><span class="pn">,</span><span onmouseout="hideTip(event, 'fs18', 460)" onmouseover="showTip(event, 'fs18', 460)" class="fn">x</span><span class="pn">)</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs19', 461)" onmouseover="showTip(event, 'fs19', 461)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs18', 462)" onmouseover="showTip(event, 'fs18', 462)" class="fn">x</span><span class="pn">)</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs151', 463)" onmouseover="showTip(event, 'fs151', 463)" class="m">SeqAsApplicative</span>


<span class="k">let</span> <span onmouseout="hideTip(event, 'fs152', 464)" onmouseover="showTip(event, 'fs152', 464)" class="id">r29</span> <span class="o">=</span>  <span onmouseout="hideTip(event, 'fs145', 465)" onmouseover="showTip(event, 'fs145', 465)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs150', 466)" onmouseover="showTip(event, 'fs150', 466)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 467)" onmouseover="showTip(event, 'fs4', 467)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 468)" onmouseover="showTip(event, 'fs5', 468)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 469)" onmouseover="showTip(event, 'fs4', 469)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span>    <span class="pn">(</span><span onmouseout="hideTip(event, 'fs153', 470)" onmouseover="showTip(event, 'fs153', 470)" class="fn">seq</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">]</span><span class="pn">)</span>          <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs145', 471)" onmouseover="showTip(event, 'fs145', 471)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 472)" onmouseover="showTip(event, 'fs154', 472)" class="id">toList</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs155', 473)" onmouseover="showTip(event, 'fs155', 473)" class="id">r29&#39;</span> <span class="o">=</span>   <span onmouseout="hideTip(event, 'fs144', 474)" onmouseover="showTip(event, 'fs144', 474)" class="fn">pure&#39;</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 475)" onmouseover="showTip(event, 'fs4', 475)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs5', 476)" onmouseover="showTip(event, 'fs5', 476)" class="fn">string</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 477)" onmouseover="showTip(event, 'fs4', 477)" class="fn">x</span> <span class="o">+</span> <span class="n">10</span><span class="pn">)</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs153', 478)" onmouseover="showTip(event, 'fs153', 478)" class="fn">seq</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">;</span><span class="n">3</span><span class="pn">]</span>           <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs145', 479)" onmouseover="showTip(event, 'fs145', 479)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 480)" onmouseover="showTip(event, 'fs154', 480)" class="id">toList</span>
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs156', 481)" onmouseover="showTip(event, 'fs156', 481)" class="id">r30</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs153', 482)" onmouseover="showTip(event, 'fs153', 482)" class="fn">seq</span> <span class="pn">[</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span><span class="pn">;</span><span class="pn">(</span><span class="o">-</span><span class="pn">)</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs153', 483)" onmouseover="showTip(event, 'fs153', 483)" class="fn">seq</span> <span class="pn">[</span><span class="n">1</span><span class="pn">;</span><span class="n">2</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs153', 484)" onmouseover="showTip(event, 'fs153', 484)" class="fn">seq</span> <span class="pn">[</span><span class="n">10</span><span class="pn">;</span><span class="n">20</span><span class="pn">;</span><span class="n">30</span><span class="pn">]</span>                <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs145', 485)" onmouseover="showTip(event, 'fs145', 485)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs154', 486)" onmouseover="showTip(event, 'fs154', 486)" class="id">toList</span>  <span class="c">// compare it with r28</span>
</code></pre>
<p>An exotic case where there is no <code>pure</code>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span class="m">MapAsApplicative</span> <span class="o">=</span> 
    <span class="k">let</span> <span class="pn">(</span><span class="o">&lt;*&gt;</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs157', 487)" onmouseover="showTip(event, 'fs157', 487)" class="fn">f</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs17', 488)" onmouseover="showTip(event, 'fs17', 488)" class="rt">Map</span><span class="pn">&lt;</span><span class="ta">&#39;</span><span class="id">k</span><span class="pn">,</span><span class="id">_</span><span class="pn">&gt;</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs158', 489)" onmouseover="showTip(event, 'fs158', 489)" class="fn">x</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs17', 490)" onmouseover="showTip(event, 'fs17', 490)" class="fn">Map</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs153', 491)" onmouseover="showTip(event, 'fs153', 491)" class="fn">seq</span> <span class="pn">{</span>
            <span class="k">for</span> <span onmouseout="hideTip(event, 'fs159', 492)" onmouseover="showTip(event, 'fs159', 492)" class="uc">KeyValue</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs160', 493)" onmouseover="showTip(event, 'fs160', 493)" class="fn">k</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs161', 494)" onmouseover="showTip(event, 'fs161', 494)" class="fn">vf</span><span class="pn">)</span> <span class="k">in</span> <span onmouseout="hideTip(event, 'fs157', 495)" onmouseover="showTip(event, 'fs157', 495)" class="fn">f</span> <span class="k">do</span>
                <span class="k">match</span> <span onmouseout="hideTip(event, 'fs17', 496)" onmouseover="showTip(event, 'fs17', 496)" class="m">Map</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs162', 497)" onmouseover="showTip(event, 'fs162', 497)" class="id">tryFind</span> <span onmouseout="hideTip(event, 'fs160', 498)" onmouseover="showTip(event, 'fs160', 498)" class="fn">k</span> <span onmouseout="hideTip(event, 'fs158', 499)" onmouseover="showTip(event, 'fs158', 499)" class="fn">x</span> <span class="k">with</span>
                <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs12', 500)" onmouseover="showTip(event, 'fs12', 500)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs163', 501)" onmouseover="showTip(event, 'fs163', 501)" class="fn">vx</span> <span class="k">-&gt;</span> <span class="k">yield</span> <span onmouseout="hideTip(event, 'fs160', 502)" onmouseover="showTip(event, 'fs160', 502)" class="fn">k</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs161', 503)" onmouseover="showTip(event, 'fs161', 503)" class="fn">vf</span> <span onmouseout="hideTip(event, 'fs163', 504)" onmouseover="showTip(event, 'fs163', 504)" class="fn">vx</span>
                <span class="pn">|</span> <span class="id">_</span>       <span class="k">-&gt;</span> <span class="pn">(</span><span class="pn">)</span> <span class="pn">}</span><span class="pn">)</span>


<span class="k">open</span> <span onmouseout="hideTip(event, 'fs164', 505)" onmouseover="showTip(event, 'fs164', 505)" class="m">MapAsApplicative</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs165', 506)" onmouseover="showTip(event, 'fs165', 506)" class="id">r31</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 507)" onmouseover="showTip(event, 'fs17', 507)" class="fn">Map</span> <span class="pn">[</span><span class="s">&#39;a&#39;</span><span class="pn">,</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span><span class="pn">;</span><span class="s">&#39;b&#39;</span><span class="pn">,</span><span class="pn">(</span><span class="o">-</span><span class="pn">)</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs17', 508)" onmouseover="showTip(event, 'fs17', 508)" class="fn">Map</span> <span class="pn">[</span><span class="s">&#39;a&#39;</span><span class="pn">,</span><span class="n">1</span><span class="pn">;</span><span class="s">&#39;b&#39;</span><span class="pn">,</span><span class="n">2</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs17', 509)" onmouseover="showTip(event, 'fs17', 509)" class="fn">Map</span> <span class="pn">[</span><span class="s">&#39;a&#39;</span><span class="pn">,</span><span class="n">10</span><span class="pn">;</span><span class="s">&#39;b&#39;</span><span class="pn">,</span><span class="n">20</span><span class="pn">;</span><span class="s">&#39;c&#39;</span><span class="pn">,</span><span class="n">30</span><span class="pn">]</span> 

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs166', 510)" onmouseover="showTip(event, 'fs166', 510)" class="id">r32</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 511)" onmouseover="showTip(event, 'fs17', 511)" class="fn">Map</span> <span class="pn">[</span><span class="s">&#39;c&#39;</span><span class="pn">,</span><span class="pn">(</span><span class="o">+</span><span class="pn">)</span><span class="pn">;</span><span class="s">&#39;b&#39;</span><span class="pn">,</span><span class="pn">(</span><span class="o">-</span><span class="pn">)</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs17', 512)" onmouseover="showTip(event, 'fs17', 512)" class="fn">Map</span> <span class="pn">[</span><span class="s">&#39;a&#39;</span><span class="pn">,</span><span class="n">1</span><span class="pn">;</span><span class="s">&#39;b&#39;</span><span class="pn">,</span><span class="n">2</span><span class="pn">]</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs17', 513)" onmouseover="showTip(event, 'fs17', 513)" class="fn">Map</span> <span class="pn">[</span><span class="s">&#39;a&#39;</span><span class="pn">,</span><span class="n">10</span><span class="pn">;</span><span class="s">&#39;b&#39;</span><span class="pn">,</span><span class="n">20</span><span class="pn">;</span><span class="s">&#39;c&#39;</span><span class="pn">,</span><span class="n">30</span><span class="pn">]</span> 
</code></pre>
<h1><a name="Monads" class="anchor" href="#Monads">Monads</a></h1>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs105', 514)" onmouseover="showTip(event, 'fs105', 514)" class="m">OptionAsApplicative</span>    
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs167', 515)" onmouseover="showTip(event, 'fs167', 515)" class="id">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 516)" onmouseover="showTip(event, 'fs12', 516)" class="uc">Some</span> <span class="n">3</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs168', 517)" onmouseover="showTip(event, 'fs168', 517)" class="id">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 518)" onmouseover="showTip(event, 'fs12', 518)" class="uc">Some</span> <span class="n">2</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs169', 519)" onmouseover="showTip(event, 'fs169', 519)" class="id">c</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 520)" onmouseover="showTip(event, 'fs12', 520)" class="uc">Some</span> <span class="n">1</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs170', 521)" onmouseover="showTip(event, 'fs170', 521)" class="fn">half</span> <span onmouseout="hideTip(event, 'fs4', 522)" onmouseover="showTip(event, 'fs4', 522)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs4', 523)" onmouseover="showTip(event, 'fs4', 523)" class="fn">x</span> <span class="o">/</span> <span class="n">2</span>        

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs171', 524)" onmouseover="showTip(event, 'fs171', 524)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs87', 525)" onmouseover="showTip(event, 'fs87', 525)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs88', 526)" onmouseover="showTip(event, 'fs88', 526)" class="fn">b</span> <span onmouseout="hideTip(event, 'fs89', 527)" onmouseover="showTip(event, 'fs89', 527)" class="fn">c</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs4', 528)" onmouseover="showTip(event, 'fs4', 528)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs87', 529)" onmouseover="showTip(event, 'fs87', 529)" class="fn">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs88', 530)" onmouseover="showTip(event, 'fs88', 530)" class="fn">b</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs172', 531)" onmouseover="showTip(event, 'fs172', 531)" class="fn">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs170', 532)" onmouseover="showTip(event, 'fs170', 532)" class="fn">half</span> <span onmouseout="hideTip(event, 'fs89', 533)" onmouseover="showTip(event, 'fs89', 533)" class="fn">c</span>
    <span onmouseout="hideTip(event, 'fs4', 534)" onmouseover="showTip(event, 'fs4', 534)" class="fn">x</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs172', 535)" onmouseover="showTip(event, 'fs172', 535)" class="fn">y</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs173', 536)" onmouseover="showTip(event, 'fs173', 536)" class="fn">f&#39;</span> <span onmouseout="hideTip(event, 'fs167', 537)" onmouseover="showTip(event, 'fs167', 537)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs168', 538)" onmouseover="showTip(event, 'fs168', 538)" class="fn">b</span> <span onmouseout="hideTip(event, 'fs169', 539)" onmouseover="showTip(event, 'fs169', 539)" class="fn">c</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 540)" onmouseover="showTip(event, 'fs174', 540)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 541)" onmouseover="showTip(event, 'fs12', 541)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span>  <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs167', 542)" onmouseover="showTip(event, 'fs167', 542)" class="fn">a</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs168', 543)" onmouseover="showTip(event, 'fs168', 543)" class="fn">b</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs175', 544)" onmouseover="showTip(event, 'fs175', 544)" class="fn">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 545)" onmouseover="showTip(event, 'fs12', 545)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs170', 546)" onmouseover="showTip(event, 'fs170', 546)" class="fn">half</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs169', 547)" onmouseover="showTip(event, 'fs169', 547)" class="fn">c</span>
    <span onmouseout="hideTip(event, 'fs12', 548)" onmouseover="showTip(event, 'fs12', 548)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs174', 549)" onmouseover="showTip(event, 'fs174', 549)" class="fn">x</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs175', 550)" onmouseover="showTip(event, 'fs175', 550)" class="fn">y</span>
    
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs176', 551)" onmouseover="showTip(event, 'fs176', 551)" class="id">r33</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs173', 552)" onmouseover="showTip(event, 'fs173', 552)" class="fn">f&#39;</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 553)" onmouseover="showTip(event, 'fs12', 553)" class="uc">Some</span> <span class="n">1</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 554)" onmouseover="showTip(event, 'fs12', 554)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 555)" onmouseover="showTip(event, 'fs12', 555)" class="uc">Some</span> <span class="n">3</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs177', 556)" onmouseover="showTip(event, 'fs177', 556)" class="id">r33&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs173', 557)" onmouseover="showTip(event, 'fs173', 557)" class="fn">f&#39;</span> <span onmouseout="hideTip(event, 'fs78', 558)" onmouseover="showTip(event, 'fs78', 558)" class="uc">None</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 559)" onmouseover="showTip(event, 'fs12', 559)" class="uc">Some</span> <span class="n">2</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs12', 560)" onmouseover="showTip(event, 'fs12', 560)" class="uc">Some</span> <span class="n">3</span><span class="pn">)</span>
    
</code></pre>
<p>OK, but if I want to use a function like:</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs178', 561)" onmouseover="showTip(event, 'fs178', 561)" class="fn">exactHalf</span> <span onmouseout="hideTip(event, 'fs4', 562)" onmouseover="showTip(event, 'fs4', 562)" class="fn">x</span> <span class="o">=</span>
    <span class="k">if</span> <span onmouseout="hideTip(event, 'fs4', 563)" onmouseover="showTip(event, 'fs4', 563)" class="fn">x</span> <span class="o">%</span> <span class="n">2</span> <span class="o">=</span> <span class="n">0</span> <span class="k">then</span> <span onmouseout="hideTip(event, 'fs12', 564)" onmouseover="showTip(event, 'fs12', 564)" class="uc">Some</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs4', 565)" onmouseover="showTip(event, 'fs4', 565)" class="fn">x</span> <span class="o">/</span> <span class="n">2</span><span class="pn">)</span>
    <span class="k">else</span> <span onmouseout="hideTip(event, 'fs78', 566)" onmouseover="showTip(event, 'fs78', 566)" class="uc">None</span>
</code></pre>
<p>It doesn't fit</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// let f&#39;&#39; a b c =</span>
<span class="c">//     let x = Some (+) &lt;*&gt; a &lt;*&gt; b</span>
<span class="c">//     let y = Some exactHalf &lt;*&gt; c   // y will be inferred as option&lt;option&lt;int&gt;&gt;</span>
<span class="c">//     Some (+) &lt;*&gt; x &lt;*&gt; y           // so this will not compile</span>
</code></pre>
<p>The problem is, we were working with ordinary functions.
When we lift these function into C, we get functions wrapped in contexts.
With Applicatives we can use either a function in a context which is ready to use or an ordinary function, which we can lift easily with <code>pure</code>.</p>
<p>But <code>exactHalf</code> is a different thing: its signature is <code>int -&gt; Option&lt;int&gt;</code>.
This function goes from a pure value to a value in a context, so either:</p>
<p>1) we use it directly but we first need to extract the argument from the context.</p>
<p>2) we use it in an Applicative, we will get a value in a context in another context, so we will need to flatten both contexts.</p>
<p>Monad provides solutions to both alternatives</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// bind : C&lt;&#39;a&gt; -&gt; (&#39;a-&gt;C&lt;&#39;b&gt;) -&gt; C&lt;&#39;b&gt;</span>
<span class="c">// join : C&lt;C&lt;&#39;a&gt;&gt; -&gt; C&lt;&#39;a&gt;</span>

<span class="k">module</span> <span class="m">OptionAsMonad</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs179', 567)" onmouseover="showTip(event, 'fs179', 567)" class="fn">join</span>  <span onmouseout="hideTip(event, 'fs180', 568)" onmouseover="showTip(event, 'fs180', 568)" class="fn">x</span>   <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 569)" onmouseover="showTip(event, 'fs10', 569)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs181', 570)" onmouseover="showTip(event, 'fs181', 570)" class="id">bind</span> <span onmouseout="hideTip(event, 'fs182', 571)" onmouseover="showTip(event, 'fs182', 571)" class="fn">id</span> <span onmouseout="hideTip(event, 'fs180', 572)" onmouseover="showTip(event, 'fs180', 572)" class="fn">x</span>
    <span class="k">let</span> <span class="pn">(</span><span class="o">&gt;</span><span class="pn">&gt;</span><span class="o">=</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs75', 573)" onmouseover="showTip(event, 'fs75', 573)" class="fn">x</span> <span onmouseout="hideTip(event, 'fs183', 574)" onmouseover="showTip(event, 'fs183', 574)" class="fn">f</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 575)" onmouseover="showTip(event, 'fs10', 575)" class="m">Option</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs181', 576)" onmouseover="showTip(event, 'fs181', 576)" class="id">bind</span> <span onmouseout="hideTip(event, 'fs183', 577)" onmouseover="showTip(event, 'fs183', 577)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs75', 578)" onmouseover="showTip(event, 'fs75', 578)" class="fn">x</span>
    <span class="c">// in monads pure&#39; is called return, unit or result, but it&#39;s essentially the same function.</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs184', 579)" onmouseover="showTip(event, 'fs184', 579)" class="fn">return&#39;</span> <span onmouseout="hideTip(event, 'fs18', 580)" onmouseover="showTip(event, 'fs18', 580)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 581)" onmouseover="showTip(event, 'fs12', 581)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs18', 582)" onmouseover="showTip(event, 'fs18', 582)" class="fn">x</span>
        
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs185', 583)" onmouseover="showTip(event, 'fs185', 583)" class="m">OptionAsMonad</span>        



<span class="k">let</span> <span onmouseout="hideTip(event, 'fs186', 584)" onmouseover="showTip(event, 'fs186', 584)" class="fn">f&#39;&#39;</span> <span onmouseout="hideTip(event, 'fs167', 585)" onmouseover="showTip(event, 'fs167', 585)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs168', 586)" onmouseover="showTip(event, 'fs168', 586)" class="fn">b</span> <span onmouseout="hideTip(event, 'fs169', 587)" onmouseover="showTip(event, 'fs169', 587)" class="fn">c</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 588)" onmouseover="showTip(event, 'fs174', 588)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 589)" onmouseover="showTip(event, 'fs12', 589)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs167', 590)" onmouseover="showTip(event, 'fs167', 590)" class="fn">a</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs168', 591)" onmouseover="showTip(event, 'fs168', 591)" class="fn">b</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs175', 592)" onmouseover="showTip(event, 'fs175', 592)" class="fn">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 593)" onmouseover="showTip(event, 'fs12', 593)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs178', 594)" onmouseover="showTip(event, 'fs178', 594)" class="fn">exactHalf</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs169', 595)" onmouseover="showTip(event, 'fs169', 595)" class="fn">c</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs179', 596)" onmouseover="showTip(event, 'fs179', 596)" class="fn">join</span>
    <span onmouseout="hideTip(event, 'fs12', 597)" onmouseover="showTip(event, 'fs12', 597)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs174', 598)" onmouseover="showTip(event, 'fs174', 598)" class="fn">x</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs175', 599)" onmouseover="showTip(event, 'fs175', 599)" class="fn">y</span>
    

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs187', 600)" onmouseover="showTip(event, 'fs187', 600)" class="fn">f&#39;&#39;&#39;</span> <span onmouseout="hideTip(event, 'fs167', 601)" onmouseover="showTip(event, 'fs167', 601)" class="fn">a</span> <span onmouseout="hideTip(event, 'fs168', 602)" onmouseover="showTip(event, 'fs168', 602)" class="fn">b</span> <span onmouseout="hideTip(event, 'fs169', 603)" onmouseover="showTip(event, 'fs169', 603)" class="fn">c</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs174', 604)" onmouseover="showTip(event, 'fs174', 604)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs12', 605)" onmouseover="showTip(event, 'fs12', 605)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs167', 606)" onmouseover="showTip(event, 'fs167', 606)" class="fn">a</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs168', 607)" onmouseover="showTip(event, 'fs168', 607)" class="fn">b</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs175', 608)" onmouseover="showTip(event, 'fs175', 608)" class="fn">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs169', 609)" onmouseover="showTip(event, 'fs169', 609)" class="fn">c</span> <span class="o">&gt;</span><span class="pn">&gt;</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs178', 610)" onmouseover="showTip(event, 'fs178', 610)" class="fn">exactHalf</span>
    <span onmouseout="hideTip(event, 'fs12', 611)" onmouseover="showTip(event, 'fs12', 611)" class="uc">Some</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs174', 612)" onmouseover="showTip(event, 'fs174', 612)" class="fn">x</span> <span class="o">&lt;*&gt;</span> <span onmouseout="hideTip(event, 'fs175', 613)" onmouseover="showTip(event, 'fs175', 613)" class="fn">y</span>
</code></pre>
<p>All monads are automatically applicatives, remember <code>&lt;*&gt;</code> for lists, it was:</p>
<p><code>let (&lt;*&gt;)  f x = List.collect (fun x1 -&gt; List.collect (fun x2 -&gt; [x1 x2]) x) f</code></p>
<p>But <code>List.collect</code> is in fact <code>bind</code>, and <code>[x1 x2]</code> is <code>pure (x1 x2)</code></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// let (&lt;*&gt;) f x = f &gt;&gt;= (fun x1 -&gt; x &gt;&gt;= (fun x2 -&gt; pure&#39; (x1 x2)))</span>
</code></pre>
<p>And this definition of <code>&lt;*&gt;</code> applies to all monads.</p>
<p>Q: but we said all applicatives are functors, so monads should be functors as well, right?
A: Yes, they are, and this is the general definition of <code>map</code> based on <code>bind</code> and <code>result</code> (aka return or pure)</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs188', 614)" onmouseover="showTip(event, 'fs188', 614)" class="fn">map</span> <span onmouseout="hideTip(event, 'fs19', 615)" onmouseover="showTip(event, 'fs19', 615)" class="fn">f</span> <span onmouseout="hideTip(event, 'fs75', 616)" onmouseover="showTip(event, 'fs75', 616)" class="fn">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs75', 617)" onmouseover="showTip(event, 'fs75', 617)" class="fn">x</span> <span class="o">&gt;</span><span class="pn">&gt;</span><span class="o">=</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs104', 618)" onmouseover="showTip(event, 'fs104', 618)" class="fn">pure&#39;</span> <span class="o">&lt;&lt;</span> <span onmouseout="hideTip(event, 'fs19', 619)" onmouseover="showTip(event, 'fs19', 619)" class="fn">f</span><span class="pn">)</span>
</code></pre>
<p>Recommended links</p>
<p>Same explanation but with pictures
<a href="http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html">http://adit.io/posts/2013-04-17-functors,_applicatives,_and_monads_in_pictures.html</a></p>
<p>Haskell typeclasses
<a href="http://www.haskell.org/haskellwiki/Typeclassopedia">http://www.haskell.org/haskellwiki/Typeclassopedia</a></p>

            <div class="fsdocs-tip" id="fs1">val r01: string list</div>
<div class="fsdocs-tip" id="fs2">Multiple items<br />module List

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.list`1&quot; /&gt;.&lt;/summary&gt;<br />&lt;namespacedoc&gt;&lt;summary&gt;Operations for collections such as lists, arrays, sets, maps and sequences. See also 
    &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/fsharp-collection-types&quot;&gt;F# Collection Types&lt;/a&gt; in the F# Language Guide.
 &lt;/summary&gt;&lt;/namespacedoc&gt;</em><br /><br />--------------------<br />type List&lt;&#39;T&gt; =
  | op_Nil
  | op_ColonColon of Head: &#39;T * Tail: &#39;T list
  interface IReadOnlyList&lt;&#39;T&gt;
  interface IReadOnlyCollection&lt;&#39;T&gt;
  interface IEnumerable
  interface IEnumerable&lt;&#39;T&gt;
  member GetReverseIndex: rank: int * offset: int -&gt; int
  member GetSlice: startIndex: int option * endIndex: int option -&gt; &#39;T list
  static member Cons: head: &#39;T * tail: &#39;T list -&gt; &#39;T list
  member Head: &#39;T
  member IsEmpty: bool
  member Item: index: int -&gt; &#39;T with get
  ...<br /><em>&lt;summary&gt;The type of immutable singly-linked lists.&lt;/summary&gt;<br />&lt;remarks&gt;Use the constructors &lt;c&gt;[]&lt;/c&gt; and &lt;c&gt;::&lt;/c&gt; (infix) to create values of this type, or
 the notation &lt;c&gt;[1;2;3]&lt;/c&gt;. Use the values in the &lt;c&gt;List&lt;/c&gt; module to manipulate 
 values of this type, or pattern match against the values directly.
 &lt;/remarks&gt;<br />&lt;exclude /&gt;</em></div>
<div class="fsdocs-tip" id="fs3">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; list: &#39;T list -&gt; &#39;U list<br /><em>&lt;summary&gt;Builds a new collection whose elements are the results of applying the given function
 to each of the elements of the collection.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform elements from the input list.&lt;/param&gt;<br />&lt;param name=&quot;list&quot;&gt;The input list.&lt;/param&gt;<br />&lt;returns&gt;The list of transformed elements.&lt;/returns&gt;<br />&lt;example id=&quot;map-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let inputs = [ &quot;a&quot;; &quot;bbb&quot;; &quot;cc&quot; ]

 inputs |&amp;gt; List.map (fun x -&amp;gt; x.Length)
 &lt;/code&gt;
 Evaluates to &lt;c&gt;[ 1; 3; 2 ]&lt;/c&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs4">val x: int</div>
<div class="fsdocs-tip" id="fs5">Multiple items<br />val string: value: &#39;T -&gt; string<br /><em>&lt;summary&gt;Converts the argument to a string using &lt;c&gt;ToString&lt;/c&gt;.&lt;/summary&gt;<br />&lt;remarks&gt;For standard integer and floating point values the and any type that implements &lt;c&gt;IFormattable&lt;/c&gt;&lt;c&gt;ToString&lt;/c&gt; conversion uses &lt;c&gt;CultureInfo.InvariantCulture&lt;/c&gt;. &lt;/remarks&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted string.&lt;/returns&gt;<br />&lt;example id=&quot;string-example&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;&lt;/code&gt;&lt;/example&gt;</em><br /><br />--------------------<br />type string = System.String<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.String&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs6">val r02: string[]</div>
<div class="fsdocs-tip" id="fs7">module Array

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with arrays.&lt;/summary&gt;<br />&lt;remarks&gt;
  See also &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/arrays&quot;&gt;F# Language Guide - Arrays&lt;/a&gt;.
 &lt;/remarks&gt;</em></div>
<div class="fsdocs-tip" id="fs8">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; array: &#39;T[] -&gt; &#39;U[]<br /><em>&lt;summary&gt;Builds a new array whose elements are the results of applying the given function
 to each of the elements of the array.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform elements of the array.&lt;/param&gt;<br />&lt;param name=&quot;array&quot;&gt;The input array.&lt;/param&gt;<br />&lt;returns&gt;The array of transformed elements.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input array is null.&lt;/exception&gt;<br />&lt;example id=&quot;map-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let inputs = [| &quot;a&quot;; &quot;bbb&quot;; &quot;cc&quot; |]

 inputs |&amp;gt; Array.map (fun x -&amp;gt; x.Length)
 &lt;/code&gt;
 Evaluates to &lt;c&gt;[| 1; 3; 2 |]&lt;/c&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs9">val r03: string option</div>
<div class="fsdocs-tip" id="fs10">module Option

from Microsoft.FSharp.Core<br /><em>&lt;summary&gt;Contains operations for working with options.&lt;/summary&gt;<br />&lt;category&gt;Options&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs11">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; option: &#39;T option -&gt; &#39;U option<br /><em>&lt;summary&gt;&lt;c&gt;map f inp&lt;/c&gt; evaluates to &lt;c&gt;match inp with None -&amp;gt; None | Some x -&amp;gt; Some (f x)&lt;/c&gt;.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;A function to apply to the option value.&lt;/param&gt;<br />&lt;param name=&quot;option&quot;&gt;The input option.&lt;/param&gt;<br />&lt;returns&gt;An option of the input value after applying the mapping function, or None if the input is None.&lt;/returns&gt;<br />&lt;example id=&quot;map-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 None |&amp;gt; Option.map (fun x -&amp;gt; x * 2) // evaluates to None
 Some 42 |&amp;gt; Option.map (fun x -&amp;gt; x * 2) // evaluates to Some 84
 &lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs12">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;Value of type &#39;T&quot;&lt;/summary&gt;<br />&lt;param name=&quot;Value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;An option representing the value.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs13">val r01&#39;: obj</div>
<div class="fsdocs-tip" id="fs14">val r02&#39;: obj</div>
<div class="fsdocs-tip" id="fs15">val r03&#39;: obj</div>
<div class="fsdocs-tip" id="fs16">Multiple items<br />union case Id.Id: &#39;t -&gt; Id&lt;&#39;t&gt;<br /><br />--------------------<br />type Id&lt;&#39;t&gt; =
  | Id of &#39;t
  static member Map: Id&lt;&#39;a&gt; * f: (&#39;a -&gt; &#39;b) -&gt; Id&lt;&#39;b&gt;</div>
<div class="fsdocs-tip" id="fs17">Multiple items<br />module Map

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.FSharpMap`2&quot; /&gt;.&lt;/summary&gt;</em><br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =
  interface IReadOnlyDictionary&lt;&#39;Key,&#39;Value&gt;
  interface IReadOnlyCollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IEnumerable
  interface IComparable
  interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IDictionary&lt;&#39;Key,&#39;Value&gt;
  new: elements: seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  member Add: key: &#39;Key * value: &#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  member Change: key: &#39;Key * f: (&#39;Value option -&gt; &#39;Value option) -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  ...<br /><em>&lt;summary&gt;Immutable maps based on binary trees, where keys are ordered by F# generic comparison. By default
 comparison is the F# structural comparison function or uses implementations of the IComparable interface on key values.&lt;/summary&gt;<br />&lt;remarks&gt;See the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.MapModule&quot; /&gt; module for further operations on maps.

 All members of this class are thread-safe and may be used concurrently from multiple threads.&lt;/remarks&gt;</em><br /><br />--------------------<br />new: elements: seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="fsdocs-tip" id="fs18">val x: &#39;a</div>
<div class="fsdocs-tip" id="fs19">val f: (&#39;a -&gt; &#39;b)</div>
<div class="fsdocs-tip" id="fs20">val r04: obj</div>
<div class="fsdocs-tip" id="fs21">val async5: Async&lt;int&gt;</div>
<div class="fsdocs-tip" id="fs22">val async: AsyncBuilder<br /><em>&lt;summary&gt;Builds an asynchronous workflow using computation expression syntax.&lt;/summary&gt;<br />&lt;example id=&quot;async-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let sleepExample() =
     async {
         printfn &quot;sleeping&quot;
         do! Async.Sleep 10
         printfn &quot;waking up&quot;
         return 6
      }

 sleepExample() |&amp;gt; Async.RunSynchronously
 &lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs23">member AsyncBuilder.Return: value: &#39;T -&gt; Async&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs24">val r05: Async&lt;obj&gt;</div>
<div class="fsdocs-tip" id="fs25">val r05&#39;: obj</div>
<div class="fsdocs-tip" id="fs26">Multiple items<br />type Async =
  static member AsBeginEnd: computation: (&#39;Arg -&gt; Async&lt;&#39;T&gt;) -&gt; (&#39;Arg * AsyncCallback * obj -&gt; IAsyncResult) * (IAsyncResult -&gt; &#39;T) * (IAsyncResult -&gt; unit)
  static member AwaitEvent: event: IEvent&lt;&#39;Del,&#39;T&gt; * ?cancelAction: (unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; (requires delegate and &#39;Del :&gt; Delegate)
  static member AwaitIAsyncResult: iar: IAsyncResult * ?millisecondsTimeout: int -&gt; Async&lt;bool&gt;
  static member AwaitTask: task: Task&lt;&#39;T&gt; -&gt; Async&lt;&#39;T&gt; + 1 overload
  static member AwaitWaitHandle: waitHandle: WaitHandle * ?millisecondsTimeout: int -&gt; Async&lt;bool&gt;
  static member CancelDefaultToken: unit -&gt; unit
  static member Catch: computation: Async&lt;&#39;T&gt; -&gt; Async&lt;Choice&lt;&#39;T,exn&gt;&gt;
  static member Choice: computations: seq&lt;Async&lt;&#39;T option&gt;&gt; -&gt; Async&lt;&#39;T option&gt;
  static member FromBeginEnd: beginAction: (AsyncCallback * obj -&gt; IAsyncResult) * endAction: (IAsyncResult -&gt; &#39;T) * ?cancelAction: (unit -&gt; unit) -&gt; Async&lt;&#39;T&gt; + 3 overloads
  static member FromContinuations: callback: ((&#39;T -&gt; unit) * (exn -&gt; unit) * (OperationCanceledException -&gt; unit) -&gt; unit) -&gt; Async&lt;&#39;T&gt;
  ...<br /><em>&lt;summary&gt;Holds static members for creating and manipulating asynchronous computations.&lt;/summary&gt;<br />&lt;remarks&gt;
  See also &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/asynchronous-workflows&quot;&gt;F# Language Guide - Async Workflows&lt;/a&gt;.
 &lt;/remarks&gt;<br />&lt;category index=&quot;1&quot;&gt;Async Programming&lt;/category&gt;</em><br /><br />--------------------<br />type Async&lt;&#39;T&gt;<br /><em>&lt;summary&gt;
 An asynchronous computation, which, when run, will eventually produce a value  of type T, or else raises an exception.
 &lt;/summary&gt;<br />&lt;remarks&gt;
  This type has no members. Asynchronous computations are normally specified either by using an async expression
  or the static methods in the &lt;see cref=&quot;T:Microsoft.FSharp.Control.FSharpAsync`1&quot; /&gt; type.

  See also &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/asynchronous-workflows&quot;&gt;F# Language Guide - Async Workflows&lt;/a&gt;.
 &lt;/remarks&gt;<br />&lt;namespacedoc&gt;&lt;summary&gt;
   Library functionality for asynchronous programming, events and agents. See also
   &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/asynchronous-workflows&quot;&gt;Asynchronous Programming&lt;/a&gt;, 
   &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/members/events&quot;&gt;Events&lt;/a&gt; and
   &lt;a href=&quot;https://docs.microsoft.com/en-us/dotnet/fsharp/language-reference/lazy-expressions&quot;&gt;Lazy Expressions&lt;/a&gt; in the
   F# Language Guide.
 &lt;/summary&gt;&lt;/namespacedoc&gt;<br />&lt;category index=&quot;1&quot;&gt;Async Programming&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs27">static member Async.RunSynchronously: computation: Async&lt;&#39;T&gt; * ?timeout: int * ?cancellationToken: System.Threading.CancellationToken -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs28">val r06: (int -&gt; obj)</div>
<div class="fsdocs-tip" id="fs29">val r06&#39;: obj</div>
<div class="fsdocs-tip" id="fs30">val listFunc: _arg1: int -&gt; int</div>
<div class="fsdocs-tip" id="fs31">val r01&#39;&#39;: obj</div>
<div class="fsdocs-tip" id="fs32">val map: f: (&#39;a -&gt; &#39;b) -&gt; a: &#39;a * b: &#39;c -&gt; &#39;b * &#39;c</div>
<div class="fsdocs-tip" id="fs33">val a: &#39;a</div>
<div class="fsdocs-tip" id="fs34">val b: &#39;c</div>
<div class="fsdocs-tip" id="fs35">val map: f: (&#39;a -&gt; &#39;b) -&gt; a: &#39;c * b: &#39;a -&gt; &#39;c * &#39;b</div>
<div class="fsdocs-tip" id="fs36">val a: &#39;c</div>
<div class="fsdocs-tip" id="fs37">val b: &#39;a</div>
<div class="fsdocs-tip" id="fs38">val r07: string * string</div>
<div class="fsdocs-tip" id="fs39">module TupleFst

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs40">val r08: string * string</div>
<div class="fsdocs-tip" id="fs41">module TupleSnd

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs42">val map: f: (&#39;a -&gt; &#39;b) -&gt; _arg1: Choice&lt;&#39;a,&#39;c&gt; -&gt; Choice&lt;&#39;b,&#39;c&gt;</div>
<div class="fsdocs-tip" id="fs43">union case Choice.Choice1Of2: &#39;T1 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;<br /><em>&lt;summary&gt;Choice 1 of 2 choices&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs44">union case Choice.Choice2Of2: &#39;T2 -&gt; Choice&lt;&#39;T1,&#39;T2&gt;<br /><em>&lt;summary&gt;Choice 2 of 2 choices&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs45">val x: &#39;c</div>
<div class="fsdocs-tip" id="fs46">val map: f: (&#39;a -&gt; &#39;b) -&gt; _arg1: Choice&lt;&#39;c,&#39;a&gt; -&gt; Choice&lt;&#39;c,&#39;b&gt;</div>
<div class="fsdocs-tip" id="fs47">val choiceValue1: Choice&lt;int,string&gt;</div>
<div class="fsdocs-tip" id="fs48">Multiple items<br />type Choice&lt;&#39;T1,&#39;T2&gt; =
  | Choice1Of2 of &#39;T1
  | Choice2Of2 of &#39;T2<br /><em>&lt;summary&gt;Helper types for active patterns with 2 choices.&lt;/summary&gt;<br />&lt;category index=&quot;5&quot;&gt;Choices and Results&lt;/category&gt;</em><br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3&gt; =
  | Choice1Of3 of &#39;T1
  | Choice2Of3 of &#39;T2
  | Choice3Of3 of &#39;T3<br /><em>&lt;summary&gt;Helper types for active patterns with 3 choices.&lt;/summary&gt;<br />&lt;category&gt;Choices and Results&lt;/category&gt;</em><br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4&gt; =
  | Choice1Of4 of &#39;T1
  | Choice2Of4 of &#39;T2
  | Choice3Of4 of &#39;T3
  | Choice4Of4 of &#39;T4<br /><em>&lt;summary&gt;Helper types for active patterns with 4 choices.&lt;/summary&gt;<br />&lt;category&gt;Choices and Results&lt;/category&gt;</em><br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5&gt; =
  | Choice1Of5 of &#39;T1
  | Choice2Of5 of &#39;T2
  | Choice3Of5 of &#39;T3
  | Choice4Of5 of &#39;T4
  | Choice5Of5 of &#39;T5<br /><em>&lt;summary&gt;Helper types for active patterns with 5 choices.&lt;/summary&gt;<br />&lt;category&gt;Choices and Results&lt;/category&gt;</em><br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6&gt; =
  | Choice1Of6 of &#39;T1
  | Choice2Of6 of &#39;T2
  | Choice3Of6 of &#39;T3
  | Choice4Of6 of &#39;T4
  | Choice5Of6 of &#39;T5
  | Choice6Of6 of &#39;T6<br /><em>&lt;summary&gt;Helper types for active patterns with 6 choices.&lt;/summary&gt;<br />&lt;category&gt;Choices and Results&lt;/category&gt;</em><br /><br />--------------------<br />type Choice&lt;&#39;T1,&#39;T2,&#39;T3,&#39;T4,&#39;T5,&#39;T6,&#39;T7&gt; =
  | Choice1Of7 of &#39;T1
  | Choice2Of7 of &#39;T2
  | Choice3Of7 of &#39;T3
  | Choice4Of7 of &#39;T4
  | Choice5Of7 of &#39;T5
  | Choice6Of7 of &#39;T6
  | Choice7Of7 of &#39;T7<br /><em>&lt;summary&gt;Helper types for active patterns with 7 choices.&lt;/summary&gt;<br />&lt;category&gt;Choices and Results&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs49">Multiple items<br />val int: value: &#39;T -&gt; int (requires member op_Explicit)<br /><em>&lt;summary&gt;Converts the argument to signed 32-bit integer. This is a direct conversion for all 
 primitive numeric types. For strings, the input is converted using &lt;c&gt;Int32.Parse()&lt;/c&gt;  
 with InvariantCulture settings. Otherwise the operation requires an appropriate
 static conversion method on the input type.&lt;/summary&gt;<br />&lt;param name=&quot;value&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The converted int&lt;/returns&gt;<br />&lt;example id=&quot;int-example&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;&lt;/code&gt;&lt;/example&gt;</em><br /><br />--------------------<br />[&lt;Struct&gt;]
type int = int32<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types&lt;/category&gt;</em><br /><br />--------------------<br />type int&lt;&#39;Measure&gt; =
  int<br /><em>&lt;summary&gt;The type of 32-bit signed integer numbers, annotated with a unit of measure. The unit
 of measure is erased in compiled code and when values of this type
 are analyzed using reflection. The type is representationally equivalent to
 &lt;see cref=&quot;T:System.Int32&quot; /&gt;.&lt;/summary&gt;<br />&lt;category&gt;Basic Types with Units of Measure&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs50">val choiceValue2: Choice&lt;int,string&gt;</div>
<div class="fsdocs-tip" id="fs51">val r09: Choice&lt;string,string&gt;</div>
<div class="fsdocs-tip" id="fs52">module ChoiceFst

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs53">val r09&#39;: Choice&lt;string,string&gt;</div>
<div class="fsdocs-tip" id="fs54">val r10: Choice&lt;int,string&gt;</div>
<div class="fsdocs-tip" id="fs55">module ChoiceSnd

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs56">val x: string</div>
<div class="fsdocs-tip" id="fs57">val r10&#39;: Choice&lt;int,string&gt;</div>
<div class="fsdocs-tip" id="fs58">Multiple items<br />union case Tree.Tree: &#39;a * Tree&lt;&#39;a&gt; * Tree&lt;&#39;a&gt; -&gt; Tree&lt;&#39;a&gt;<br /><br />--------------------<br />type Tree&lt;&#39;a&gt; =
  | Tree of &#39;a * Tree&lt;&#39;a&gt; * Tree&lt;&#39;a&gt;
  | Leaf of &#39;a</div>
<div class="fsdocs-tip" id="fs59">union case Tree.Leaf: &#39;a -&gt; Tree&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs60">type Tree&lt;&#39;a&gt; =
  | Tree of &#39;a * Tree&lt;&#39;a&gt; * Tree&lt;&#39;a&gt;
  | Leaf of &#39;a</div>
<div class="fsdocs-tip" id="fs61">val map: f: (&#39;a -&gt; &#39;b) -&gt; _arg1: Tree&lt;&#39;a&gt; -&gt; Tree&lt;&#39;b&gt;</div>
<div class="fsdocs-tip" id="fs62">val t1: Tree&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs63">val t2: Tree&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs64">val myTree: Tree&lt;int&gt;</div>
<div class="fsdocs-tip" id="fs65">Multiple items<br />union case Tree.Tree: &#39;a * Tree&lt;&#39;a&gt; * Tree&lt;&#39;a&gt; -&gt; Tree&lt;&#39;a&gt;<br /><br />--------------------<br />module Tree

from Applicative-functors<br /><br />--------------------<br />type Tree&lt;&#39;a&gt; =
  | Tree of &#39;a * Tree&lt;&#39;a&gt; * Tree&lt;&#39;a&gt;
  | Leaf of &#39;a</div>
<div class="fsdocs-tip" id="fs66">val r11: Tree&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs67">val r12: string</div>
<div class="fsdocs-tip" id="fs68">module String

from Microsoft.FSharp.Core<br /><em>&lt;summary&gt;Functional programming operators for string processing.  Further string operations
 are available via the member functions on strings and other functionality in
  &lt;a href=&quot;http://msdn2.microsoft.com/en-us/library/system.string.aspx&quot;&gt;System.String&lt;/a&gt; 
 and &lt;a href=&quot;http://msdn2.microsoft.com/library/system.text.regularexpressions.aspx&quot;&gt;System.Text.RegularExpressions&lt;/a&gt; types.
 &lt;/summary&gt;<br />&lt;category&gt;Strings and Text&lt;/category&gt;</em></div>
<div class="fsdocs-tip" id="fs69">val map: mapping: (char -&gt; char) -&gt; str: string -&gt; string<br /><em>&lt;summary&gt;Builds a new string whose characters are the results of applying the function &lt;c&gt;mapping&lt;/c&gt;
 to each of the characters of the input string.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to apply to the characters of the string.&lt;/param&gt;<br />&lt;param name=&quot;str&quot;&gt;The input string.&lt;/param&gt;<br />&lt;returns&gt;The resulting string.&lt;/returns&gt;<br />&lt;example id=&quot;map-1&quot;&gt; Changing case to upper for all characters in the input string
 &lt;code lang=&quot;fsharp&quot;&gt;
 open System
 
 let input = &quot;Hello there!&quot;
 
 input |&amp;gt; String.map Char.ToUpper  // evaluates &quot;HELLO THERE!&quot;
 &lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs70">val c: char</div>
<div class="fsdocs-tip" id="fs71">namespace System</div>
<div class="fsdocs-tip" id="fs72">[&lt;Struct&gt;]
type Char =
  member CompareTo: value: char -&gt; int + 1 overload
  member Equals: obj: char -&gt; bool + 1 overload
  member GetHashCode: unit -&gt; int
  member GetTypeCode: unit -&gt; TypeCode
  member ToString: unit -&gt; string + 2 overloads
  static member ConvertFromUtf32: utf32: int -&gt; string
  static member ConvertToUtf32: highSurrogate: char * lowSurrogate: char -&gt; int + 1 overload
  static member GetNumericValue: c: char -&gt; float + 1 overload
  static member GetUnicodeCategory: c: char -&gt; UnicodeCategory + 1 overload
  static member IsAscii: c: char -&gt; bool
  ...<br /><em>&lt;summary&gt;Represents a character as a UTF-16 code unit.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs73">System.Char.ToUpper(c: char) : char<br />System.Char.ToUpper(c: char, culture: System.Globalization.CultureInfo) : char</div>
<div class="fsdocs-tip" id="fs74">val f: (&#39;a -&gt; &#39;b -&gt; &#39;c)</div>
<div class="fsdocs-tip" id="fs75">val x: &#39;a option</div>
<div class="fsdocs-tip" id="fs76">val y: &#39;b option</div>
<div class="fsdocs-tip" id="fs77">val y: &#39;b</div>
<div class="fsdocs-tip" id="fs78">union case Option.None: Option&lt;&#39;T&gt;<br /><em>&lt;summary&gt;The representation of &quot;No value&quot;&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs79">val f: (&#39;a -&gt; &#39;b -&gt; &#39;c -&gt; &#39;d)</div>
<div class="fsdocs-tip" id="fs80">val z: &#39;c option</div>
<div class="fsdocs-tip" id="fs81">val z: &#39;c</div>
<div class="fsdocs-tip" id="fs82">val r13: int option</div>
<div class="fsdocs-tip" id="fs83">Multiple items<br />val map2: mapping: (&#39;T1 -&gt; &#39;T2 -&gt; &#39;U) -&gt; option1: &#39;T1 option -&gt; option2: &#39;T2 option -&gt; &#39;U option<br /><em>&lt;summary&gt;&lt;c&gt;map f option1 option2&lt;/c&gt; evaluates to &lt;c&gt;match option1, option2 with Some x, Some y -&amp;gt; Some (f x y) | _ -&amp;gt; None&lt;/c&gt;.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;A function to apply to the option values.&lt;/param&gt;<br />&lt;param name=&quot;option1&quot;&gt;The first option.&lt;/param&gt;<br />&lt;param name=&quot;option2&quot;&gt;The second option.&lt;/param&gt;<br />&lt;returns&gt;An option of the input values after applying the mapping function, or None if either input is None.&lt;/returns&gt;<br />&lt;example id=&quot;map2-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 (None, None) ||&amp;gt; Option.map2 (fun x y -&amp;gt; x + y) // evaluates to None
 (Some 5, None) ||&amp;gt; Option.map2 (fun x y -&amp;gt; x + y) // evaluates to None
 (None, Some 10) ||&amp;gt; Option.map2 (fun x y -&amp;gt; x + y) // evaluates to None
 (Some 5, Some 10) ||&amp;gt; Option.map2 (fun x y -&amp;gt; x + y) // evaluates to Some 15
 &lt;/code&gt;&lt;/example&gt;</em><br /><br />--------------------<br />static member Option.map2: f: (&#39;a -&gt; &#39;b -&gt; &#39;c) -&gt; x: &#39;a option -&gt; y: &#39;b option -&gt; &#39;c option</div>
<div class="fsdocs-tip" id="fs84">val r14: int list</div>
<div class="fsdocs-tip" id="fs85">val map2: mapping: (&#39;T1 -&gt; &#39;T2 -&gt; &#39;U) -&gt; list1: &#39;T1 list -&gt; list2: &#39;T2 list -&gt; &#39;U list<br /><em>&lt;summary&gt;Builds a new collection whose elements are the results of applying the given function
 to the corresponding elements of the two collections pairwise.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform pairs of elements from the input lists.&lt;/param&gt;<br />&lt;param name=&quot;list1&quot;&gt;The first input list.&lt;/param&gt;<br />&lt;param name=&quot;list2&quot;&gt;The second input list.&lt;/param&gt;<br />&lt;returns&gt;The list of transformed elements.&lt;/returns&gt;<br />&lt;example id=&quot;item-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let inputs1 = [&quot;a&quot;; &quot;bad&quot;; &quot;good&quot;]
 let inputs2 = [0; 2; 1]

 (inputs1, inputs2) ||&amp;gt; List.map2 (fun x y -&amp;gt; x.[y])
 &lt;/code&gt;
 Evaluates to &lt;c&gt;seq [&#39;a&#39;; &#39;d&#39;; &#39;o&#39;]&lt;/c&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs86">val add3: a: int -&gt; b: int -&gt; c: int -&gt; int</div>
<div class="fsdocs-tip" id="fs87">val a: int</div>
<div class="fsdocs-tip" id="fs88">val b: int</div>
<div class="fsdocs-tip" id="fs89">val c: int</div>
<div class="fsdocs-tip" id="fs90">val r15: int option</div>
<div class="fsdocs-tip" id="fs91">Multiple items<br />val map3: mapping: (&#39;T1 -&gt; &#39;T2 -&gt; &#39;T3 -&gt; &#39;U) -&gt; option1: &#39;T1 option -&gt; option2: &#39;T2 option -&gt; option3: &#39;T3 option -&gt; &#39;U option<br /><em>&lt;summary&gt;&lt;c&gt;map f option1 option2 option3&lt;/c&gt; evaluates to &lt;c&gt;match option1, option2, option3 with Some x, Some y, Some z -&amp;gt; Some (f x y z) | _ -&amp;gt; None&lt;/c&gt;.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;A function to apply to the option values.&lt;/param&gt;<br />&lt;param name=&quot;option1&quot;&gt;The first option.&lt;/param&gt;<br />&lt;param name=&quot;option2&quot;&gt;The second option.&lt;/param&gt;<br />&lt;param name=&quot;option3&quot;&gt;The third option.&lt;/param&gt;<br />&lt;returns&gt;An option of the input values after applying the mapping function, or None if any input is None.&lt;/returns&gt;<br />&lt;example id=&quot;map3-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 (None, None, None) |||&amp;gt; Option.map3 (fun x y z -&amp;gt; x + y + z) // evaluates to None
 (Some 100, None, None) |||&amp;gt; Option.map3 (fun x y z -&amp;gt; x + y + z) // evaluates to None
 (None, Some 100, None) |||&amp;gt; Option.map3 (fun x y z -&amp;gt; x + y + z) // evaluates to None
 (None, None, Some 100) |||&amp;gt; Option.map3 (fun x y z -&amp;gt; x + y + z) // evaluates to None
 (Some 5, Some 100, Some 10) |||&amp;gt; Option.map3 (fun x y z -&amp;gt; x + y + z) // evaluates to Some 115
 &lt;/code&gt;&lt;/example&gt;</em><br /><br />--------------------<br />static member Option.map3: f: (&#39;a -&gt; &#39;b -&gt; &#39;c -&gt; &#39;d) -&gt; x: &#39;a option -&gt; y: &#39;b option -&gt; z: &#39;c option -&gt; &#39;d option</div>
<div class="fsdocs-tip" id="fs92">val step1: f: &#39;a -&gt; &#39;a option</div>
<div class="fsdocs-tip" id="fs93">val f: &#39;a</div>
<div class="fsdocs-tip" id="fs94">val step2: a: (&#39;a -&gt; &#39;b) option -&gt; b: &#39;a option -&gt; &#39;b option</div>
<div class="fsdocs-tip" id="fs95">val a: (&#39;a -&gt; &#39;b) option</div>
<div class="fsdocs-tip" id="fs96">val b: &#39;a option</div>
<div class="fsdocs-tip" id="fs97">val r16: (int -&gt; string) option</div>
<div class="fsdocs-tip" id="fs98">val r17: string option</div>
<div class="fsdocs-tip" id="fs99">val r18: string option</div>
<div class="fsdocs-tip" id="fs100">val r18&#39;: string option</div>
<div class="fsdocs-tip" id="fs101">val r19: int option</div>
<div class="fsdocs-tip" id="fs102">val r19i: (int -&gt; int) option</div>
<div class="fsdocs-tip" id="fs103">val r19&#39;: int option</div>
<div class="fsdocs-tip" id="fs104">val pure&#39;: x: &#39;a -&gt; &#39;a option</div>
<div class="fsdocs-tip" id="fs105">module OptionAsApplicative

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs106">val r18&#39;&#39;: string option</div>
<div class="fsdocs-tip" id="fs107">val r18&#39;&#39;&#39;: string option</div>
<div class="fsdocs-tip" id="fs108">val r18&#39;&#39;&#39;&#39;: string</div>
<div class="fsdocs-tip" id="fs109">val r20: int option</div>
<div class="fsdocs-tip" id="fs110">val r20&#39;: int option</div>
<div class="fsdocs-tip" id="fs111">val r20&#39;&#39;: int</div>
<div class="fsdocs-tip" id="fs112">val r20&#39;&#39;&#39;: int</div>
<div class="fsdocs-tip" id="fs113">val r20&#39;&#39;&#39;&#39;: int option</div>
<div class="fsdocs-tip" id="fs114">val r20&#39;&#39;&#39;&#39;&#39;: int</div>
<div class="fsdocs-tip" id="fs115">val r21: int</div>
<div class="fsdocs-tip" id="fs116">val r21&#39;: int option</div>
<div class="fsdocs-tip" id="fs117">val r22: int option</div>
<div class="fsdocs-tip" id="fs118">Multiple items<br />type AutoOpenAttribute =
  inherit Attribute
  new: unit -&gt; AutoOpenAttribute + 1 overload
  member Path: string<br /><em>&lt;summary&gt;Indicates a construct is automatically opened when brought into scope through
 an assembly reference or then opening of the containing namespace or module.&lt;/summary&gt;<br />&lt;remarks&gt;When applied to an assembly, this attribute must be given a string
 argument, and this indicates a valid module or namespace in that assembly. Source
 code files compiled with a reference to this assembly are processed in an environment
 where the given path is automatically opened.

 When applied to a type or module within an assembly, then the attribute must not be given any arguments, and
 the type or module is implicitly opened when its enclosing namespace or module is opened.
 &lt;/remarks&gt;<br />&lt;category&gt;Attributes&lt;/category&gt;</em><br /><br />--------------------<br />new: unit -&gt; AutoOpenAttribute<br />new: path: string -&gt; AutoOpenAttribute</div>
<div class="fsdocs-tip" id="fs119">val pure&#39;: x: &#39;a -&gt; Async&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs120">val f: Async&lt;(&#39;a -&gt; &#39;b)&gt;</div>
<div class="fsdocs-tip" id="fs121">val x: Async&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs122">member AsyncBuilder.Bind: computation: Async&lt;&#39;T&gt; * binder: (&#39;T -&gt; Async&lt;&#39;U&gt;) -&gt; Async&lt;&#39;U&gt;</div>
<div class="fsdocs-tip" id="fs123">val x1: (&#39;a -&gt; &#39;b)</div>
<div class="fsdocs-tip" id="fs124">val x2: &#39;a</div>
<div class="fsdocs-tip" id="fs125">val r23: Async&lt;int&gt;</div>
<div class="fsdocs-tip" id="fs126">val r23&#39;: Async&lt;int&gt;</div>
<div class="fsdocs-tip" id="fs127">val getLine: Async&lt;int&gt;</div>
<div class="fsdocs-tip" id="fs128">type Console =
  static member Beep: unit -&gt; unit + 1 overload
  static member Clear: unit -&gt; unit
  static member GetCursorPosition: unit -&gt; struct (int * int)
  static member MoveBufferArea: sourceLeft: int * sourceTop: int * sourceWidth: int * sourceHeight: int * targetLeft: int * targetTop: int -&gt; unit + 1 overload
  static member OpenStandardError: unit -&gt; Stream + 1 overload
  static member OpenStandardInput: unit -&gt; Stream + 1 overload
  static member OpenStandardOutput: unit -&gt; Stream + 1 overload
  static member Read: unit -&gt; int
  static member ReadKey: unit -&gt; ConsoleKeyInfo + 1 overload
  static member ReadLine: unit -&gt; string
  ...<br /><em>&lt;summary&gt;Represents the standard input, output, and error streams for console applications. This class cannot be inherited.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs129">System.Console.ReadLine() : string</div>
<div class="fsdocs-tip" id="fs130">[&lt;Struct&gt;]
type Int32 =
  member CompareTo: value: int -&gt; int + 1 overload
  member Equals: obj: int -&gt; bool + 1 overload
  member GetHashCode: unit -&gt; int
  member GetTypeCode: unit -&gt; TypeCode
  member ToString: unit -&gt; string + 3 overloads
  member TryFormat: destination: Span&lt;char&gt; * charsWritten: byref&lt;int&gt; * ?format: ReadOnlySpan&lt;char&gt; * ?provider: IFormatProvider -&gt; bool
  static member Abs: value: int -&gt; int
  static member Clamp: value: int * min: int * max: int -&gt; int
  static member CopySign: value: int * sign: int -&gt; int
  static member CreateChecked&lt;&#39;TOther (requires &#39;TOther :&gt; INumberBase&lt;&#39;TOther&gt;)&gt; : value: &#39;TOther -&gt; int
  ...<br /><em>&lt;summary&gt;Represents a 32-bit signed integer.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs131">System.Int32.Parse(s: string) : int<br />System.Int32.Parse(s: string, provider: System.IFormatProvider) : int<br />System.Int32.Parse(s: string, style: System.Globalization.NumberStyles) : int<br />System.Int32.Parse(s: System.ReadOnlySpan&lt;char&gt;, provider: System.IFormatProvider) : int<br />System.Int32.Parse(s: string, style: System.Globalization.NumberStyles, provider: System.IFormatProvider) : int<br />System.Int32.Parse(s: System.ReadOnlySpan&lt;char&gt;, ?style: System.Globalization.NumberStyles, ?provider: System.IFormatProvider) : int</div>
<div class="fsdocs-tip" id="fs132">val r24: Async&lt;int&gt;</div>
<div class="fsdocs-tip" id="fs133">val pure&#39;: x: &#39;a -&gt; &#39;a list</div>
<div class="fsdocs-tip" id="fs134">val f: (&#39;a -&gt; &#39;b) list</div>
<div class="fsdocs-tip" id="fs135">val x: &#39;a list</div>
<div class="fsdocs-tip" id="fs136">val collect: mapping: (&#39;T -&gt; &#39;U list) -&gt; list: &#39;T list -&gt; &#39;U list<br /><em>&lt;summary&gt;For each element of the list, applies the given function. Concatenates all the results and return the combined list.&lt;/summary&gt;<br />&lt;param name=&quot;mapping&quot;&gt;The function to transform each input element into a sublist to be concatenated.&lt;/param&gt;<br />&lt;param name=&quot;list&quot;&gt;The input list.&lt;/param&gt;<br />&lt;returns&gt;The concatenation of the transformed sublists.&lt;/returns&gt;<br />&lt;example id=&quot;collect-1&quot;&gt; For each positive number in the array we are generating all the previous positive numbers
 &lt;code lang=&quot;fsharp&quot;&gt;
 [1..4] |&amp;gt; List.collect (fun x -&amp;gt; [1..x])
 &lt;/code&gt;
 The sample evaluates to &lt;c&gt;[1;   1; 2;   1; 2; 3;   1; 2; 3; 4]&lt;/c&gt; (added extra spaces for easy reading)
 &lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs137">module ListAsApplicative

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs138">val r25: string list</div>
<div class="fsdocs-tip" id="fs139">val r25&#39;: string list</div>
<div class="fsdocs-tip" id="fs140">val r25&#39;&#39;: string list</div>
<div class="fsdocs-tip" id="fs141">val r26: string list</div>
<div class="fsdocs-tip" id="fs142">val r27: int list</div>
<div class="fsdocs-tip" id="fs143">val r28: int list</div>
<div class="fsdocs-tip" id="fs144">val pure&#39;: x: &#39;a -&gt; seq&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs145">module Seq

from Microsoft.FSharp.Collections<br /><em>&lt;summary&gt;Contains operations for working with values of type &lt;see cref=&quot;T:Microsoft.FSharp.Collections.seq`1&quot; /&gt;.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs146">val initInfinite: initializer: (int -&gt; &#39;T) -&gt; seq&lt;&#39;T&gt;<br /><em>&lt;summary&gt;Generates a new sequence which, when iterated, will return successive
 elements by calling the given function.  The results of calling the function
 will not be saved, that is the function will be reapplied as necessary to
 regenerate the elements.  The function is passed the index of the item being
 generated.&lt;/summary&gt;<br />&lt;remarks&gt;The returned sequence may be passed between threads safely. However,
 individual IEnumerator values generated from the returned sequence should not be accessed concurrently.
 Iteration can continue up to &lt;c&gt;Int32.MaxValue&lt;/c&gt;.&lt;/remarks&gt;<br />&lt;param name=&quot;initializer&quot;&gt;A function that generates an item in the sequence from a given index.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;example id=&quot;init-infinite-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 (+) 5 |&amp;gt; Seq.initInfinite
 &lt;/code&gt;
 Evaluates to a sequence yielding the same results as &lt;c&gt;seq { 5; 6; 7; 8; ... }&lt;/c&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs147">val f: seq&lt;(&#39;a -&gt; &#39;b)&gt;</div>
<div class="fsdocs-tip" id="fs148">val x: seq&lt;&#39;a&gt;</div>
<div class="fsdocs-tip" id="fs149">val zip: source1: seq&lt;&#39;T1&gt; -&gt; source2: seq&lt;&#39;T2&gt; -&gt; seq&lt;&#39;T1 * &#39;T2&gt;<br /><em>&lt;summary&gt;Combines the two sequences into a sequence of pairs. The two sequences need not have equal lengths:
 when one sequence is exhausted any remaining elements in the other
 sequence are ignored.&lt;/summary&gt;<br />&lt;param name=&quot;source1&quot;&gt;The first input sequence.&lt;/param&gt;<br />&lt;param name=&quot;source2&quot;&gt;The second input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when either of the input sequences is null.&lt;/exception&gt;<br />&lt;example id=&quot;zip-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let numbers = [1; 2]
 let names = [&quot;one&quot;; &quot;two&quot;]

 Seq.zip numbers names
 &lt;/code&gt;
 Evaluates to a sequence yielding the same results as &lt;c&gt;seq { (1, &quot;one&quot;); (2, &quot;two&quot;) }&lt;/c&gt;.
 &lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs150">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; source: seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><em>&lt;summary&gt;Builds a new collection whose elements are the results of applying the given function
 to each of the elements of the collection.  The given function will be applied
 as elements are demanded using the &lt;c&gt;MoveNext&lt;/c&gt; method on enumerators retrieved from the
 object.&lt;/summary&gt;<br />&lt;remarks&gt;The returned sequence may be passed between threads safely. However,
 individual IEnumerator values generated from the returned sequence should not be accessed concurrently.&lt;/remarks&gt;<br />&lt;param name=&quot;mapping&quot;&gt;A function to transform items from the input sequence.&lt;/param&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;<br />&lt;example id=&quot;item-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let inputs = [&quot;a&quot;; &quot;bbb&quot;; &quot;cc&quot;]

 inputs |&amp;gt; Seq.map (fun x -&amp;gt; x.Length)
 &lt;/code&gt;
 Evaluates to a sequence yielding the same results as &lt;c&gt;seq { 1; 3; 2 }&lt;/c&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs151">module SeqAsApplicative

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs152">val r29: string list</div>
<div class="fsdocs-tip" id="fs153">Multiple items<br />val seq: sequence: seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><em>&lt;summary&gt;Builds a sequence using sequence expression syntax&lt;/summary&gt;<br />&lt;param name=&quot;sequence&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result sequence.&lt;/returns&gt;<br />&lt;example id=&quot;seq-cast-example&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 seq { for i in 0..10 do yield (i, i*i) }
 &lt;/code&gt;&lt;/example&gt;</em><br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;<br /><em>&lt;summary&gt;An abbreviation for the CLI type &lt;see cref=&quot;T:System.Collections.Generic.IEnumerable`1&quot; /&gt;&lt;/summary&gt;<br />&lt;remarks&gt;
  See the &lt;see cref=&quot;T:Microsoft.FSharp.Collections.SeqModule&quot; /&gt; module for further operations related to sequences.

  See also &lt;a href=&quot;https://docs.microsoft.com/dotnet/fsharp/language-reference/sequences&quot;&gt;F# Language Guide - Sequences&lt;/a&gt;.
&lt;/remarks&gt;</em></div>
<div class="fsdocs-tip" id="fs154">val toList: source: seq&lt;&#39;T&gt; -&gt; &#39;T list<br /><em>&lt;summary&gt;Builds a list from the given collection.&lt;/summary&gt;<br />&lt;param name=&quot;source&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;returns&gt;The result list.&lt;/returns&gt;<br />&lt;exception cref=&quot;T:System.ArgumentNullException&quot;&gt;Thrown when the input sequence is null.&lt;/exception&gt;<br />&lt;example id=&quot;tolist-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let inputs = seq { 1; 2; 5 }

 inputs |&amp;gt; Seq.toList
 &lt;/code&gt;
 Evaluates to &lt;c&gt;[ 1; 2; 5 ]&lt;/c&gt;.
 &lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs155">val r29&#39;: string list</div>
<div class="fsdocs-tip" id="fs156">val r30: int list</div>
<div class="fsdocs-tip" id="fs157">val f: Map&lt;&#39;k,(&#39;a -&gt; &#39;b)&gt; (requires comparison)</div>
<div class="fsdocs-tip" id="fs158">val x: Map&lt;&#39;k,&#39;a&gt; (requires comparison)</div>
<div class="fsdocs-tip" id="fs159">active recognizer KeyValue: System.Collections.Generic.KeyValuePair&lt;&#39;Key,&#39;Value&gt; -&gt; &#39;Key * &#39;Value<br /><em>&lt;summary&gt;An active pattern to match values of type &lt;see cref=&quot;T:System.Collections.Generic.KeyValuePair&quot; /&gt;&lt;/summary&gt;<br />&lt;param name=&quot;keyValuePair&quot;&gt;The input key/value pair.&lt;/param&gt;<br />&lt;returns&gt;A tuple containing the key and value.&lt;/returns&gt;<br />&lt;example id=&quot;keyvalue-example&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;&lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs160">val k: &#39;k (requires comparison)</div>
<div class="fsdocs-tip" id="fs161">val vf: (&#39;a -&gt; &#39;b)</div>
<div class="fsdocs-tip" id="fs162">val tryFind: key: &#39;Key -&gt; table: Map&lt;&#39;Key,&#39;T&gt; -&gt; &#39;T option (requires comparison)<br /><em>&lt;summary&gt;Lookup an element in the map, returning a &lt;c&gt;Some&lt;/c&gt; value if the element is in the domain 
 of the map and &lt;c&gt;None&lt;/c&gt; if not.&lt;/summary&gt;<br />&lt;param name=&quot;key&quot;&gt;The input key.&lt;/param&gt;<br />&lt;param name=&quot;table&quot;&gt;The input map.&lt;/param&gt;<br />&lt;returns&gt;The found &lt;c&gt;Some&lt;/c&gt; value or &lt;c&gt;None&lt;/c&gt;.&lt;/returns&gt;<br />&lt;example id=&quot;tryfind-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let sample = Map [ (1, &quot;a&quot;); (2, &quot;b&quot;) ]
 
 sample |&amp;gt; Map.tryFind 1 // evaluates to Some &quot;a&quot;
 sample |&amp;gt; Map.tryFind 3 // evaluates to None
 &lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs163">val vx: &#39;a</div>
<div class="fsdocs-tip" id="fs164">module MapAsApplicative

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs165">val r31: Map&lt;char,int&gt;</div>
<div class="fsdocs-tip" id="fs166">val r32: Map&lt;char,int&gt;</div>
<div class="fsdocs-tip" id="fs167">val a: int option</div>
<div class="fsdocs-tip" id="fs168">val b: int option</div>
<div class="fsdocs-tip" id="fs169">val c: int option</div>
<div class="fsdocs-tip" id="fs170">val half: x: int -&gt; int</div>
<div class="fsdocs-tip" id="fs171">val f: a: int -&gt; b: int -&gt; c: int -&gt; int</div>
<div class="fsdocs-tip" id="fs172">val y: int</div>
<div class="fsdocs-tip" id="fs173">val f&#39;: a: int option -&gt; b: int option -&gt; c: int option -&gt; int option</div>
<div class="fsdocs-tip" id="fs174">val x: int option</div>
<div class="fsdocs-tip" id="fs175">val y: int option</div>
<div class="fsdocs-tip" id="fs176">val r33: int option</div>
<div class="fsdocs-tip" id="fs177">val r33&#39;: int option</div>
<div class="fsdocs-tip" id="fs178">val exactHalf: x: int -&gt; int option</div>
<div class="fsdocs-tip" id="fs179">val join: x: &#39;a option option -&gt; &#39;a option</div>
<div class="fsdocs-tip" id="fs180">val x: &#39;a option option</div>
<div class="fsdocs-tip" id="fs181">val bind: binder: (&#39;T -&gt; &#39;U option) -&gt; option: &#39;T option -&gt; &#39;U option<br /><em>&lt;summary&gt;&lt;c&gt;bind f inp&lt;/c&gt; evaluates to &lt;c&gt;match inp with None -&amp;gt; None | Some x -&amp;gt; f x&lt;/c&gt;&lt;/summary&gt;<br />&lt;param name=&quot;binder&quot;&gt;A function that takes the value of type T from an option and transforms it into
 an option containing a value of type U.&lt;/param&gt;<br />&lt;param name=&quot;option&quot;&gt;The input option.&lt;/param&gt;<br />&lt;returns&gt;An option of the output type of the binder.&lt;/returns&gt;<br />&lt;example id=&quot;bind-1&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 let tryParse (input: string) =
     match System.Int32.TryParse input with
     | true, v -&amp;gt; Some v
     | false, _ -&amp;gt; None
 None |&amp;gt; Option.bind tryParse // evaluates to None
 Some &quot;42&quot; |&amp;gt; Option.bind tryParse // evaluates to Some 42
 Some &quot;Forty-two&quot; |&amp;gt; Option.bind tryParse // evaluates to None
 &lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs182">val id: x: &#39;T -&gt; &#39;T<br /><em>&lt;summary&gt;The identity function&lt;/summary&gt;<br />&lt;param name=&quot;x&quot;&gt;The input value.&lt;/param&gt;<br />&lt;returns&gt;The same value.&lt;/returns&gt;<br />&lt;example id=&quot;id-example&quot;&gt;&lt;code lang=&quot;fsharp&quot;&gt;
 id 12     //  Evaulates to 12
 id &quot;abc&quot;  //  Evaulates to &quot;abc&quot;
 &lt;/code&gt;&lt;/example&gt;</em></div>
<div class="fsdocs-tip" id="fs183">val f: (&#39;a -&gt; &#39;b option)</div>
<div class="fsdocs-tip" id="fs184">val return&#39;: x: &#39;a -&gt; &#39;a option</div>
<div class="fsdocs-tip" id="fs185">module OptionAsMonad

from Applicative-functors</div>
<div class="fsdocs-tip" id="fs186">val f&#39;&#39;: a: int option -&gt; b: int option -&gt; c: int option -&gt; int option</div>
<div class="fsdocs-tip" id="fs187">val f&#39;&#39;&#39;: a: int option -&gt; b: int option -&gt; c: int option -&gt; int option</div>
<div class="fsdocs-tip" id="fs188">val map: f: (&#39;a -&gt; &#39;b) -&gt; x: &#39;a option -&gt; &#39;b option</div>

        </div>

        <!-- BEGIN SEARCH BOX: this adds support for the search box -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.css" />
        <script type="text/javascript">var fsdocs_search_baseurl = '/FSharpPlus/'</script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.8/lunr.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/JavaScript-autoComplete/1.0.4/auto-complete.min.js"></script>
        <script type="text/javascript" src="/FSharpPlus/content/fsdocs-search.js"></script>
        <!-- END SEARCH BOX: this adds support for the search box -->
    </div>
</body>

</html>